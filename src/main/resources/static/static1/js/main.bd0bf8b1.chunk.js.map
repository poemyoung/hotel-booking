{"version":3,"sources":["components/Navbar/Navbar.jsx","components/Home/Title.jsx","components/Home/SearchForm.jsx","components/Home/Banner.jsx","components/Hotels/AverageRating.jsx","components/Hotels/MinPrice.jsx","components/Hotels/HotelItemBody.jsx","components/Hotels/MapPopover.jsx","components/Hotels/HotelItemTitle.jsx","components/Hotels/HotelItem.jsx","components/Hotels/HotelsList.jsx","components/Hotel/ImageCarousel.jsx","components/Hotel/HotelMainInfo.jsx","components/Hotel/RoomIntroTagList.jsx","components/Hotel/RoomItem.jsx","components/Hotel/RoomList.jsx","components/Hotel/Hotel.jsx","components/Reserve/RoomInfo.jsx","services/authService.js","services/reservationService.js","services/payWayService.js","components/Reserve/ReserveForm.jsx","components/Reserve/Reserve.jsx","components/Login/Login.jsx","components/Signup/Signup.jsx","components/Logout/Logout.jsx","services/hotelService.js","components/Account/Admin.jsx","services/brandService.js","services/chainService.js","services/userService.js","components/Account/UserSetting.jsx","components/Account/UserReservations.jsx","components/Account/User.jsx","components/Account/Account.jsx","App.js","services/adminService.js","serviceWorker.js","index.js"],"names":["Navbar","user","this","props","className","to","role","aria-label","name","Component","Title","SearchForm","submitContent","initialValues","hotelName","dates","moment","add","numOfCustomers","Form","useForm","form","useEffect","setFieldsValue","location","style","onFinish","values","body","checkInTime","format","checkOutTime","history","push","size","Item","rules","required","message","wrapperCol","span","placeholder","prefix","SearchOutlined","gutter","RangePicker","ranges","今明两天","今天起一周","min","max","formatter","value","flex","type","htmlType","block","Banner","AverageRating","averagerating","MinPrice","minprice","title","suffix","HotelItemBody","Meta","allowHalf","disabled","defaultValue","starrating","description","ellipsis","rows","overview","avatar","src","photoone","alt","MapPopover","loading","onLoad","latitude","longitude","placement","trigger","content","width","height","frameBorder","border","allowFullScreen","aria-hidden","tabIndex","HotelItemTitle","setState","state","hoteltranslatedname","address","chainname","brandname","color","HotelItem","onClick","hotelid","queryString","parse","search","hotelLocation","active","hoverable","extra","HotelsList","error","hotels","getDataFromServer","url","process","fetch","then","response","json","result","data","msg","catch","setTimeout","map","hotel","index","key","undefined","ImageCarousel","imgUrls","autoplay","imgUrl","HotelMainInfo","InnerCard","zipcode","numberfloors","yearopened","yearrenovated","justify","xs","md","textAlign","groupSeparator","RoomIntroTagList","intro","IconFont","createFromIconfontCN","scriptUrl","tags","icon","LikeOutlined","WifiOutlined","tagMap","Map","forEach","tag","set","split","tagName","info","get","RoomItem","onReserve","id","capacity","count","e","price","actions","UserOutlined","HomeOutlined","RoomList","rooms","locale","emptyText","header","fontWeight","itemLayout","dataSource","renderItem","item","Hotel","hotelAndRoom","pathname","locationUrl","status","subTitle","phototwo","photothree","photofour","photofive","maxWidth","margin","marginTop","RoomInfo","room","RoomInfoTitle","roomName","RoomInfoBody","formatDate","date","replace","TimeRange","DontMissIt","showIcon","logout","localStorage","removeItem","getToken","getItem","reserve","reservation","FormData","append","method","headers","mode","Authorization","auth","getPayWays","payWays","ReserveForm","hotelId","roomId","formFields","userName","userPhone","parseInt","pay","userEmail","code","layout","scrollToFirstError","label","initialValue","Group","p","Reserve","roomInfo","padding","direction","Login","defaultActiveKey","TabPane","tab","LoginForm","login2Server","setItem","window","phone","password","login","token","console","log","marginBottom","len","SignUp","SignupForm","signup2Server","pattern","hasFeedback","Password","dependencies","getFieldValue","validator","rule","Promise","reject","resolve","Logout","updateHotel","Content","Layout","Sider","Option","Select","Admin","defaultSelectedKeys","HotelForm","formRef","React","createRef","updating","handleFinish","checkin","checkout","toSubmit","current","hotel2FormValues","brands","chains","hotelAndRooms","ref","chainid","find","c","brandid","b","TwoColInput","input1","minWidth","step","input2","use12Hours","picker","TextArea","autoSize","updateUserInfo","UserSetting","uploading","handleUploadAvatarChange","file","success","JSON","getUser","onUploadAvatarChange","AvatarSection","action","accept","showUploadList","onChange","UserInfoSection","Reservations","reservations","bordered","r","Reservation","createat","username","userphone","useremail","checkinat","checkoutat","hotelTranslatedName","ReservationMainInfo","checkInAt","checkOutAt","ReservationSubInfo","ReservationContent","createAt","Date","toLocaleDateString","marginLeft","payWayKey","getItemValue","Descriptions","pw","User","handleSelect","getReservations","onSelect","Account","App","jwtDecode","getAdmin","path","render","component","Signup","Boolean","hostname","match","Spin","setDefaultIndicator","LoadingOutlined","fontSize","spin","ReactDOM","zhCN","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.bd0bf8b1.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./Navbar.css\";\n\nexport default class Navbar extends Component {\n  render() {\n    const { user } = this.props;\n\n    return (\n      <header>\n        <nav className=\"navbar\">\n          <div className=\"logo\">\n            <Link to=\"/\">\n              <span role=\"img\" aria-label=\"panda logo\">\n                🐼\n              </span>\n            </Link>\n          </div>\n          {user ? (\n            <ul>\n              <li>\n                <Link to=\"/logout\">登出</Link>\n              </li>\n              <li>\n                <Link to=\"/account\">{user.name}</Link>\n              </li>\n            </ul>\n          ) : (\n            <ul>\n              <li>\n                <Link to=\"/login\">登录</Link>\n              </li>\n              <li>\n                <Link to=\"/signup\">注册</Link>\n              </li>\n            </ul>\n          )}\n        </nav>\n      </header>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport \"./Title.css\";\n\nexport default class Title extends Component {\n  render() {\n    return (\n      <div className=\"title\">\n        <h3>Welcome to Chengdu</h3>\n        <h2>欢迎来到成都</h2>\n        <p>探索成都的酒店</p>\n      </div>\n    );\n  }\n}\n","import React, { useEffect } from \"react\";\nimport moment from \"moment\";\nimport \"moment/locale/zh-cn\";\nimport { Button, Input, DatePicker, InputNumber, Form, Row, Col } from \"antd\";\nimport { SearchOutlined } from \"@ant-design/icons\";\nimport \"./SearchForm.css\";\n\nexport default function SearchForm(props) {\n  const onFinish = values => {\n    const body = { ...values };\n    body.checkInTime = values.dates[0].format(\"YYYY-MM-DD\");\n    body.checkOutTime = values.dates[1].format(\"YYYY-MM-DD\");\n    props.history.push(\n      `/hotels?location=${body.location}&checkInTime=${body.checkInTime}&checkOutTime=${body.checkOutTime}&numOfCustomers=${body.numOfCustomers}`\n    );\n  };\n\n  let { submitContent, initialValues, hotelName } = props;\n  submitContent = submitContent || \"搜索\";\n  initialValues = initialValues || {\n    dates: [moment(), moment().add(1, \"day\")],\n    numOfCustomers: 1,\n  };\n\n  const [form] = Form.useForm();\n\n  useEffect(() => {\n    if (hotelName) form.setFieldsValue({ location: hotelName });\n  }, [hotelName, form]);\n\n  return (\n    <Form\n      form={form}\n      style={props.style}\n      onFinish={onFinish}\n      size=\"large\"\n      className=\"search-form\"\n      initialValues={initialValues}\n    >\n      <Form.Item\n        name=\"location\"\n        rules={[{ required: true, message: \"请填写位置或酒店名\" }]}\n        wrapperCol={{ span: 24 }}\n      >\n        <Input placeholder=\"位置或酒店名\" prefix={<SearchOutlined />} />\n      </Form.Item>\n      <Row gutter={16}>\n        <Col>\n          <Form.Item\n            name=\"dates\"\n            rules={[{ required: true, message: \"请填写入住日期与退房日期\" }]}\n          >\n            <DatePicker.RangePicker\n              placeholder={[\"入住日期\", \"退房日期\"]}\n              ranges={{\n                今明两天: [moment(), moment().add(1, \"day\")],\n                今天起一周: [moment(), moment().add(6, \"days\")],\n              }}\n            />\n          </Form.Item>\n        </Col>\n        <Col>\n          <Form.Item\n            name=\"numOfCustomers\"\n            rules={[{ required: true, message: \"请填写入住人数\" }]}\n          >\n            <InputNumber min={1} max={10} formatter={value => `${value} 人`} />\n          </Form.Item>\n        </Col>\n        <Col flex=\"auto\">\n          <Form.Item>\n            <Button type=\"primary\" htmlType=\"submit\" block>\n              {submitContent}\n            </Button>\n          </Form.Item>\n        </Col>\n      </Row>\n    </Form>\n  );\n}\n","import React, { Component } from \"react\";\nimport Title from \"./Title\";\nimport SearchForm from \"./SearchForm\";\nimport \"./Banner.css\";\n\nexport default class Banner extends Component {\n  render() {\n    return (\n      <div className=\"banner\">\n        <Title></Title>\n        <SearchForm history={this.props.history}></SearchForm>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport \"./AverageRating.css\";\n\nexport default class AverageRating extends Component {\n  render() {\n    return (\n      <div className=\"average-rating-container\">\n        <span className=\"rating\">{this.props.averagerating}</span>\n        <span className=\"small\">分</span>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport { Statistic } from \"antd\";\n\nexport default function MinPrice({ minprice }) {\n  return <Statistic title=\"最低价\" value={minprice} suffix=\"￥\"></Statistic>;\n}\n","import React, { Component } from \"react\";\nimport { Card, Rate } from \"antd\";\nimport MinPrice from \"./MinPrice\";\nimport Paragraph from \"antd/lib/typography/Paragraph\";\n\nexport default class HotelItemBody extends Component {\n  render() {\n    return (\n      <div>\n        <Card.Meta\n          title={\n            <Rate\n              allowHalf\n              disabled\n              defaultValue={this.props.starrating}\n            ></Rate>\n          }\n          description={\n            <div>\n              <Paragraph ellipsis={{ rows: 2 }}>\n                {this.props.overview}\n              </Paragraph>\n              <MinPrice minprice={this.props.minprice}></MinPrice>\n            </div>\n          }\n          avatar={\n            <div className=\"img-container\">\n              <img\n                className=\"hotel-img\"\n                src={this.props.photoone}\n                alt=\"hotel\"\n              ></img>\n            </div>\n          }\n        ></Card.Meta>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport { Popover, Spin } from \"antd\";\nimport \"./MapPopover.css\";\n\nexport default function MapPopover({ loading, onLoad, latitude, longitude }) {\n  return (\n    <Popover\n      placement=\"bottom\"\n      trigger=\"hover\"\n      content={\n        <div className=\"map-container\">\n          {loading ? <Spin className=\"map-spin\"></Spin> : null}\n          <iframe\n            onLoad={onLoad}\n            title=\"The hotel's location in Google Map\"\n            src={\n              \"https://maps.google.com/maps?q=\" +\n              latitude +\n              \",\" +\n              longitude +\n              \"&t=&z=15&ie=UTF8&iwloc=&output=embed\"\n            }\n            width=\"360\"\n            height=\"270\"\n            frameBorder=\"0\"\n            style={{ border: 0 }}\n            allowFullScreen\n            aria-hidden=\"false\"\n            tabIndex=\"0\"\n            className=\"map\"\n          ></iframe>\n        </div>\n      }\n    >\n      <sub className=\"show-map\">查看地图</sub>\n    </Popover>\n  );\n}\n","import React, { Component } from \"react\";\nimport { Tag } from \"antd\";\nimport MapPopover from \"./MapPopover\";\n\nexport default class HotelItemTitle extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n    };\n  }\n\n  onLoad = () => {\n    this.setState({ loading: false });\n  };\n\n  render() {\n    const { loading } = this.state;\n    let {\n      hoteltranslatedname,\n      address,\n      chainname,\n      brandname,\n      latitude,\n      longitude,\n    } = this.props;\n\n    if (chainname === \"No chain\") chainname = null;\n    if (brandname === \"No brand\") brandname = null;\n\n    return (\n      <div>\n        <h2>{hoteltranslatedname}</h2>\n        {chainname ? <Tag color=\"blue\">连锁 {chainname}</Tag> : null}\n        {brandname ? <Tag color=\"geekblue\">品牌 {brandname}</Tag> : null}\n        <div>\n          <sub>{address}</sub>\n          <MapPopover\n            loading={loading}\n            onLoad={this.onLoad}\n            latitude={latitude}\n            longitude={longitude}\n          ></MapPopover>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport queryString from \"query-string\";\nimport { Card, Skeleton } from \"antd\";\nimport AverageRating from \"./AverageRating\";\nimport HotelItemBody from \"./HotelItemBody\";\nimport HotelItemTitle from \"./HotelItemTitle\";\nimport \"./HotelItem.css\";\n\nexport default class HotelItem extends Component {\n  onClick = () => {\n    const { history, hotelid, location } = this.props;\n    const {\n      checkInTime,\n      checkOutTime,\n      location: hotelLocation,\n      numOfCustomers,\n    } = queryString.parse(location.search);\n    if (!checkInTime || !checkOutTime) history.push(`/hotels/${hotelid}`);\n    else\n      history.push(\n        `/hotels/${hotelid}?location=${hotelLocation}&checkInTime=${checkInTime}&checkOutTime=${checkOutTime}&numOfCustomers=${numOfCustomers}`\n      );\n  };\n\n  render() {\n    const { loading, averagerating } = this.props;\n\n    return (\n      <div onClick={this.onClick}>\n        <Card\n          className=\"hotel-item\"\n          title={\n            <Skeleton active loading={loading}>\n              <HotelItemTitle {...this.props}></HotelItemTitle>\n            </Skeleton>\n          }\n          hoverable\n          extra={\n            <Skeleton active loading={loading}>\n              <AverageRating averagerating={averagerating}></AverageRating>\n            </Skeleton>\n          }\n        >\n          <Skeleton active loading={loading}>\n            <HotelItemBody {...this.props}></HotelItemBody>\n          </Skeleton>\n        </Card>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport HotelItem from \"./HotelItem\";\nimport hotels from \"../../data/hotels.json\";\nimport \"./HotelsList.css\";\n\nexport default class HotelsList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      loading: true,\n      hotels: [\"\", \"\", \"\"],\n    };\n  }\n\n  componentDidMount() {\n    this.getDataFromServer();\n  }\n\n  getDataFromServer() {\n    const url = `${process.env.REACT_APP_SERVER}/hotels`;\n    const queryString = this.props.location.search;\n    fetch(url + queryString)\n      .then(response => response.json())\n      .then(\n        result => {\n          if (!result.data)\n            this.setState({ loading: false, error: { message: result.msg } });\n          else this.setState({ loading: false, hotels: result.data });\n        },\n        error => {\n          this.setState({ loading: false, error });\n        }\n      )\n      .catch(error => {\n        this.setState({ loading: false, error });\n      });\n  }\n\n  getFakeData() {\n    setTimeout(() => {\n      this.setState({\n        loading: false,\n        hotels: hotels,\n      });\n    }, 500);\n  }\n\n  render() {\n    const { loading, hotels, error } = this.state;\n\n    return (\n      <div className=\"hotel-list\">\n        {error ? (\n          <div className=\"error-msg\">{`Error: ${error.message}`}</div>\n        ) : (\n          hotels.map((hotel, index) => (\n            <HotelItem\n              {...this.props}\n              key={\n                hotel.hotelid === null || hotel.hotelid === undefined\n                  ? index\n                  : hotel.hotelid\n              }\n              loading={loading}\n              {...hotel}\n            ></HotelItem>\n          ))\n        )}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport { Carousel, Skeleton } from \"antd\";\nimport \"./ImageCarousel.css\";\n\nexport default function ImageCarousel({ imgUrls, style, loading }) {\n  return (\n    <div style={style}>\n      <Skeleton active loading={loading}>\n        <Carousel style={style} autoplay>\n          {imgUrls.map((imgUrl, index) => (\n            <img\n              key={index}\n              className=\"carousel-img\"\n              src={imgUrl}\n              alt={`hotel${index}`}\n            />\n          ))}\n        </Carousel>\n      </Skeleton>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Card, Rate, Statistic, Col, Row, Skeleton } from \"antd\";\nimport HotelItemTitle from \"../Hotels/HotelItemTitle\";\nimport AverageRating from \"../Hotels/AverageRating\";\n\nexport default function HotelMainInfo(props) {\n  const { style, loading, averagerating, starrating, overview } = props;\n\n  return (\n    <Card\n      style={style}\n      title={\n        <Skeleton active loading={loading}>\n          <HotelItemTitle {...props}></HotelItemTitle>\n        </Skeleton>\n      }\n      extra={\n        <Skeleton active loading={loading}>\n          <AverageRating averagerating={averagerating}></AverageRating>\n        </Skeleton>\n      }\n    >\n      <Skeleton active loading={loading}>\n        <Card.Meta\n          title={\n            <div>\n              <Rate allowHalf disabled value={starrating}></Rate>\n            </div>\n          }\n          description={\n            <div>\n              <p>{overview}</p>\n            </div>\n          }\n        ></Card.Meta>\n        <InnerCard {...props}></InnerCard>\n      </Skeleton>\n    </Card>\n  );\n}\n\nfunction InnerCard(props) {\n  const { zipcode, numberfloors, yearopened, yearrenovated } = props;\n\n  return (\n    <Card type=\"inner\">\n      <Row justify=\"space-around\">\n        <Col xs={12} md={6} style={{ textAlign: \"center\" }}>\n          <Statistic title=\"邮编\" groupSeparator=\"\" value={zipcode}></Statistic>\n        </Col>\n        <Col xs={12} md={6} style={{ textAlign: \"center\" }}>\n          <Statistic\n            title=\"楼层数\"\n            value={numberfloors}\n            suffix=\"层\"\n          ></Statistic>\n        </Col>\n        <Col xs={12} md={6} style={{ textAlign: \"center\" }}>\n          <Statistic\n            title=\"开业于\"\n            groupSeparator=\"\"\n            value={yearopened}\n            suffix=\"年\"\n          ></Statistic>\n        </Col>\n        <Col xs={12} md={6} style={{ textAlign: \"center\" }}>\n          <Statistic\n            title=\"翻新于\"\n            groupSeparator=\"\"\n            value={yearrenovated ? yearrenovated : \"未知\"}\n            suffix={yearrenovated ? \"年\" : null}\n          ></Statistic>\n        </Col>\n      </Row>\n    </Card>\n  );\n}\n","import React from \"react\";\nimport { Tag } from \"antd\";\nimport {\n  WifiOutlined,\n  createFromIconfontCN,\n  LikeOutlined,\n} from \"@ant-design/icons\";\n\nexport default function RoomIntroTagList({ intro }) {\n  if (!intro) return null;\n\n  const IconFont = createFromIconfontCN({\n    scriptUrl: \"//at.alicdn.com/t/font_1892580_3whjbqueza5.js\",\n  });\n\n  const tags = [\n    {\n      name: \"周围安静\",\n      icon: <IconFont type=\"icon-jing\"></IconFont>,\n      color: \"green\",\n    },\n    {\n      name: \"环境舒适\",\n      icon: <IconFont type=\"icon-huanjing\"></IconFont>,\n      color: \"volcano\",\n    },\n    { name: \"旅游必选\", icon: <LikeOutlined></LikeOutlined>, color: \"magenta\" },\n    {\n      name: \"安全保证\",\n      icon: <IconFont type=\"icon-anquan\"></IconFont>,\n      color: \"success\",\n    },\n    {\n      name: \"离车站近\",\n      icon: <IconFont type=\"icon-bus\"></IconFont>,\n      color: \"purple\",\n    },\n    { name: \"wifi全覆盖\", icon: <WifiOutlined></WifiOutlined>, color: \"blue\" },\n    {\n      name: \"独立卫浴\",\n      icon: <IconFont type=\"icon-duliweiyu\"></IconFont>,\n      color: \"gold\",\n    },\n    {\n      name: \"有空调\",\n      icon: <IconFont type=\"icon-kongtiao\"></IconFont>,\n      color: \"geekblue\",\n    },\n  ];\n\n  const tagMap = new Map();\n  tags.forEach(tag => tagMap.set(tag.name, tag));\n\n  return (\n    <div>\n      {intro.split(\", \").map(tagName => {\n        const info = tagMap.get(tagName);\n        return (\n          <Tag color={null} icon={info.icon} key={tagName}>\n            {tagName}\n          </Tag>\n        );\n      })}\n    </div>\n  );\n}\n","import React, { Component } from \"react\";\nimport queryString from \"query-string\";\nimport { List, Button, Statistic, Skeleton } from \"antd\";\nimport { UserOutlined, HomeOutlined } from \"@ant-design/icons\";\nimport RoomIntroTagList from \"./RoomIntroTagList\";\n\nexport default class RoomItem extends Component {\n  onReserve = (id, name, capacity, count, hotelid, e) => {\n    const { history, location } = this.props;\n    const { checkInTime, checkOutTime, numOfCustomers } = queryString.parse(\n      location.search\n    );\n    history.push(\n      `/reserve?checkInTime=${checkInTime}&checkOutTime=${checkOutTime}&numOfCustomers=${numOfCustomers}&id=${id}&name=${name}&capacity=${capacity}&count=${count}&hotelId=${hotelid}`\n    );\n  };\n\n  render() {\n    const {\n      id,\n      price,\n      capacity,\n      count,\n      name,\n      intro,\n      loading,\n      hotelid,\n    } = this.props;\n\n    return (\n      <div>\n        <List.Item\n          actions={[\n            <Button\n              onClick={e =>\n                this.onReserve(id, name, capacity, count, hotelid, e)\n              }\n              type=\"primary\"\n            >\n              {price}￥ 预定\n            </Button>,\n          ]}\n          extra={\n            <div>\n              <Statistic\n                title=\"人数限制\"\n                value={capacity}\n                prefix={<UserOutlined />}\n              ></Statistic>\n              <Statistic\n                title=\"剩余房间\"\n                value={count}\n                prefix={<HomeOutlined />}\n              ></Statistic>\n            </div>\n          }\n        >\n          <Skeleton active loading={loading}>\n            <List.Item.Meta\n              title={name}\n              description={<RoomIntroTagList intro={intro}></RoomIntroTagList>}\n            ></List.Item.Meta>\n          </Skeleton>\n        </List.Item>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { List } from \"antd\";\nimport RoomItem from \"./RoomItem\";\n\nexport default class RoomList extends Component {\n  render() {\n    const { style, rooms, loading, history, location } = this.props;\n\n    return (\n      <List\n        locale={{ emptyText: \"这个时间段没有空余房间\" }}\n        style={style}\n        header={\n          <h3 style={{ textAlign: \"center\", fontWeight: \"bold\" }}>\n            可预订房间\n          </h3>\n        }\n        itemLayout=\"vertical\"\n        size=\"large\"\n        dataSource={rooms}\n        renderItem={item => (\n          <RoomItem\n            history={history}\n            location={location}\n            key={item.id}\n            loading={loading}\n            {...item}\n          ></RoomItem>\n        )}\n      ></List>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport queryString from \"query-string\";\nimport { Result } from \"antd\";\nimport moment from \"moment\";\nimport \"moment/locale/zh-cn\";\nimport ImageCarousel from \"./ImageCarousel\";\nimport HotelMainInfo from \"./HotelMainInfo\";\nimport RoomList from \"./RoomList\";\nimport SearchForm from \"../Home/SearchForm\";\nimport hotel from \"../../data/hotel.json\";\n\nexport default class Hotel extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      error: null,\n      hotelAndRoom: {\n        hotel: {},\n        rooms: [\"\", \"\", \"\"],\n      },\n    };\n  }\n\n  componentDidMount() {\n    this.getDataFromServer();\n  }\n\n  getDataFromServer() {\n    const url = `${process.env.REACT_APP_SERVER}`;\n    const { pathname, search } = this.props.location;\n    fetch(url + pathname + search)\n      .then(response => response.json())\n      .then(\n        result => {\n          this.setState({ loading: false, hotelAndRoom: result.data });\n        },\n        error => {\n          this.setState({ loading: false, error });\n        }\n      );\n  }\n\n  getFakeData() {\n    setTimeout(\n      () =>\n        this.setState({\n          loading: false,\n          hotelAndRoom: hotel,\n        }),\n      500\n    );\n  }\n\n  render() {\n    const { hotelAndRoom, loading, error } = this.state;\n    const { history, location: locationUrl } = this.props;\n\n    if (error)\n      return <div className=\"error-msg\">{`Error: ${error.message}`}</div>;\n\n    if (!hotelAndRoom)\n      return <Result status=\"404\" title=\"404\" subTitle=\"找不到该酒店\" />;\n\n    const { hotel, rooms } = hotelAndRoom;\n    const imgUrls = [\n      hotel.photoone,\n      hotel.phototwo,\n      hotel.photothree,\n      hotel.photofour,\n      hotel.photofive,\n    ];\n\n    const style = { maxWidth: \"700px\", margin: \"0 auto\" };\n\n    const {\n      checkInTime,\n      checkOutTime,\n      location,\n      numOfCustomers,\n    } = queryString.parse(this.props.location.search);\n\n    const initialValues = {\n      location,\n      dates: [moment(checkInTime), moment(checkOutTime)],\n      numOfCustomers,\n    };\n\n    return (\n      <div>\n        {hotel ? (\n          <div>\n            <ImageCarousel\n              loading={loading}\n              style={style}\n              imgUrls={imgUrls}\n            ></ImageCarousel>\n            <HotelMainInfo\n              loading={loading}\n              style={style}\n              {...hotel}\n            ></HotelMainInfo>\n            <div className=\"hoverable\" style={{ ...style, marginTop: \"16px\" }}>\n              <SearchForm\n                hotelName={hotel.hoteltranslatedname}\n                submitContent=\"更新\"\n                initialValues={initialValues}\n                style={{ width: \"95%\" }}\n                {...this.props}\n              ></SearchForm>\n              <RoomList\n                history={history}\n                location={locationUrl}\n                loading={loading}\n                style={style}\n                rooms={rooms}\n              ></RoomList>\n            </div>\n          </div>\n        ) : (\n          <Result status=\"404\" title=\"404\" subTitle=\"酒店不存在\" />\n        )}\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Card, Alert } from \"antd\";\n\nexport default class RoomInfo extends Component {\n  render() {\n    const { checkInTime, checkOutTime, room, style } = this.props;\n    const { capacity, count, name } = room;\n\n    return (\n      <Card\n        hoverable\n        style={style}\n        title={\n          <RoomInfoTitle\n            checkInTime={checkInTime}\n            checkOutTime={checkOutTime}\n            roomName={name}\n          ></RoomInfoTitle>\n        }\n      >\n        <RoomInfoBody capacity={capacity} count={count}></RoomInfoBody>\n      </Card>\n    );\n  }\n}\n\nfunction formatDate(date) {\n  return date.replace(\"-\", \"年\").replace(\"-\", \"月\");\n}\n\nfunction TimeRange({ checkInTime, checkOutTime }) {\n  return (\n    <div>\n      <h3>\n        <div className=\"check-in-time-box\">{formatDate(checkInTime)}</div>\n        <div className=\"check-out-time-box\">{formatDate(checkOutTime)}</div>\n      </h3>\n    </div>\n  );\n}\n\nfunction RoomInfoTitle({ checkInTime, checkOutTime, roomName }) {\n  return (\n    <div>\n      <TimeRange\n        checkInTime={checkInTime}\n        checkOutTime={checkOutTime}\n      ></TimeRange>\n      <h3>{roomName}</h3>\n    </div>\n  );\n}\n\nfunction DontMissIt({ count }) {\n  if (count >= 5) return null;\n  return (\n    <Alert\n      message={\n        <span>\n          不要错过！仅剩 <strong>{count}</strong> 间房了！\n        </span>\n      }\n      type=\"info\"\n      showIcon\n    ></Alert>\n  );\n}\n\nfunction RoomInfoBody({ capacity, count }) {\n  return (\n    <div>\n      <p>最多可住 {capacity} 人</p>\n      <DontMissIt count={count}></DontMissIt>\n    </div>\n  );\n}\n","const tokenKey = \"token\";\n\nexport function login(role, phone, password) {\n  const url = `${process.env.REACT_APP_SERVER}/login`;\n  const body = new FormData();\n  body.append(\"phone\", phone);\n  body.append(\"password\", password);\n\n  return fetch(url, {\n    method: \"POST\",\n    headers:\n      role === \"admin\"\n        ? {\n            \"X-Role\": \"admin\",\n          }\n        : {\n            \"X-Role\": \"user\",\n          },\n    body,\n  });\n}\n\nexport function logout() {\n  localStorage.removeItem(tokenKey);\n}\n\nexport function getToken() {\n  return localStorage.getItem(tokenKey);\n}\n\nexport default {\n  logout,\n  getToken,\n};\n","import auth from \"./authService\";\n\nexport function reserve(reservation) {\n  const url = `${process.env.REACT_APP_SERVER}/reserves`;\n  const body = new FormData();\n  for (let key in reservation) body.append(key, reservation[key]);\n\n  return fetch(url, {\n    method: \"POST\",\n    headers: {\n      mode: \"no-cors\",\n      Authorization: `Bearer ${auth.getToken()}`,\n    },\n    body,\n  });\n}\n\nexport function getReservations() {\n  const url = `${process.env.REACT_APP_SERVER}/reserves`;\n\n  // return new Promise(resolve => {\n  //   resolve(reservations);\n  // });\n\n  return fetch(url, {\n    method: \"GET\",\n    headers: {\n      Authorization: `Bearer ${auth.getToken()}`,\n    },\n  }).then(response => response.json());\n}\n\nexport function getHotelReservations() {\n  const url = `${process.env.REACT_APP_SERVER}/admins/reserves`;\n\n  return fetch(url, {\n    method: \"GET\",\n    headers: {\n      Authorization: `Bearer ${auth.getToken()}`,\n    },\n  });\n}\n\nexport default {\n  reserve,\n};\n","import payWays from \"../data/payWays.json\";\n\nexport function getPayWays() {\n  return payWays;\n}\n\nexport function getPayWayChineseName(payWayKey) {\n  return payWays.find(pw => pw.key === payWayKey).value;\n}\n","import React, { Component } from \"react\";\nimport queryString from \"query-string\";\nimport { Form, Input, InputNumber, Button, Alert, Radio } from \"antd\";\nimport reservation from \"../../services/reservationService\";\nimport { getPayWays } from \"../../services/payWayService\";\n\nexport default class ReserveForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      error: null,\n    };\n  }\n\n  onFinish = values => {\n    const { location } = this.props;\n\n    const {\n      hotelId,\n      id: roomId,\n      checkInTime,\n      checkOutTime,\n    } = queryString.parse(location.search);\n\n    const formFields = {\n      userName: values.userName,\n      userPhone: values.userPhone,\n      numOfCustomers: parseInt(values.numOfCustomers),\n      pay: values.pay,\n    };\n\n    if (values.userEmail) formFields.userEmail = values.userEmail;\n\n    const body = {\n      ...formFields,\n      hotelId: hotelId,\n      roomId: roomId,\n      checkInTime,\n      checkOutTime,\n    };\n\n    this.setState({ loading: true, error: null });\n\n    reservation\n      .reserve(body)\n      .then(response => response.json())\n      .then(result => {\n        if (result.code === 1) {\n          this.setState({ loading: false });\n        } else {\n          this.setState({ loading: false, error: result.msg });\n        }\n      })\n      .catch(error => {\n        this.setState({ loading: false, error: \"与服务器通信出现错误\" });\n      });\n  };\n\n  render() {\n    const { style, className, numOfCustomers, capacity } = this.props;\n    const { loading, error } = this.state;\n\n    return (\n      <div style={style} className={className}>\n        <h2>订房信息</h2>\n        {error && <Alert message={error} type=\"error\" showIcon />}\n        <Form\n          size=\"large\"\n          name=\"reserve\"\n          layout=\"vertical\"\n          onFinish={this.onFinish}\n          scrollToFirstError\n        >\n          <Form.Item\n            name=\"userName\"\n            label=\"姓名\"\n            rules={[{ required: true, message: \"请填写您的姓名！\" }]}\n          >\n            <Input></Input>\n          </Form.Item>\n          <Form.Item\n            name=\"userPhone\"\n            label=\"联系电话\"\n            rules={[{ required: true, message: \"请填写您的联系电话！\" }]}\n          >\n            <Input></Input>\n          </Form.Item>\n          <Form.Item\n            name=\"userEmail\"\n            label=\"电子邮箱\"\n            rules={[\n              {\n                type: \"email\",\n                message: \"这不是一个有效的电子邮箱！\",\n              },\n            ]}\n          >\n            <Input></Input>\n          </Form.Item>\n          <Form.Item\n            name=\"numOfCustomers\"\n            label=\"入住人数\"\n            rules={[{ required: true, message: \"请填写入住人数！\" }]}\n            initialValue={numOfCustomers}\n          >\n            <InputNumber max={capacity} min={1}></InputNumber>\n          </Form.Item>\n          <Form.Item label=\"支付方式\" name=\"pay\">\n            <Radio.Group>\n              {getPayWays().map(p => (\n                <Radio key={p.key} value={p.key}>\n                  {p.value}\n                </Radio>\n              ))}\n            </Radio.Group>\n          </Form.Item>\n          <Form.Item>\n            <Button\n              loading={loading}\n              style={{ width: \"100%\" }}\n              type=\"primary\"\n              htmlType=\"submit\"\n            >\n              预定\n            </Button>\n          </Form.Item>\n        </Form>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport queryString from \"query-string\";\nimport RoomInfo from \"./RoomInfo\";\nimport ReserveForm from \"./ReserveForm\";\nimport { Space } from \"antd\";\nimport \"./Reserve.css\";\n\nexport default class Reserve extends Component {\n  render() {\n    const style = { maxWidth: \"700px\", margin: \"0 auto\" };\n\n    const {\n      checkInTime,\n      checkOutTime,\n      numOfCustomers,\n      id,\n      name,\n      capacity,\n      count,\n    } = queryString.parse(this.props.location.search);\n\n    const room = {\n      capacity,\n      count,\n      name,\n      id,\n    };\n\n    const roomInfo = {\n      checkInTime,\n      checkOutTime,\n      room,\n    };\n\n    return (\n      <div style={{ padding: \"2em 0\" }}>\n        <Space style={{ width: \"100%\" }} direction=\"vertical\">\n          <RoomInfo style={style} {...roomInfo}></RoomInfo>\n          <ReserveForm\n            style={style}\n            className=\"hoverable\"\n            numOfCustomers={numOfCustomers}\n            capacity={room.capacity}\n            {...this.props}\n          ></ReserveForm>\n        </Space>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Form, Input, Button, Alert, Tabs } from \"antd\";\nimport { Link } from \"react-router-dom\";\nimport \"./Login.css\";\nimport { login } from \"../../services/authService\";\n\nexport default function Login({ history }) {\n  return (\n    <div className=\"teahouse-full-screen-container\">\n      <div className=\"login-signup-form\">\n        <Tabs defaultActiveKey=\"1\">\n          <Tabs.TabPane tab=\"普通用户\" key=\"1\">\n            <LoginForm role=\"user\" history={history}></LoginForm>\n          </Tabs.TabPane>\n          <Tabs.TabPane tab=\"管理员\" key=\"2\">\n            <LoginForm role=\"admin\" history={history}></LoginForm>\n          </Tabs.TabPane>\n        </Tabs>\n      </div>\n    </div>\n  );\n}\n\nclass LoginForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      error: \"\",\n    };\n  }\n\n  onFinish = values => {\n    this.setState({ loading: true, error: \"\" });\n    this.login2Server(values);\n  };\n\n  loginFake() {\n    const { role } = this.props;\n\n    setTimeout(() => {\n      localStorage.setItem(\n        \"token\",\n        role === \"admin\"\n          ? \"eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiYWRtaW4iLCJ1c2VyUGhvbmUiOiLkuL3mvrPmu6jmsZ_nsr7lk4HphZLlupciLCJleHAiOjE1OTY4MzkyOTd9.9MoBiNz3DAmUOG9-j4Sx64h7sbfkpDRjD3LVMkW6W577IAnv4EXCp4xZ7fe-DcSEXrX3uNnCMRMUq1m1b9KHEQ\"\n          : \"eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoidXNlciIsInVzZXJQaG9uZSI6IjEzMDMyODU1MTY3IiwiZXhwIjoxNTk2ODI4NjA1fQ.Z3vvuXeSAxSEufcDagKVVs3Akty2n9excZfRJ3QOMLpIVFT10lqhUQJtg-pcuNLnroHRIrMZIybqqJVOYNB01Q\"\n      );\n      window.location = \"/\";\n    }, 1000);\n  }\n\n  login2Server(values) {\n    const { role } = this.props;\n    const { phone, password } = values;\n\n    login(role, phone, password)\n      .then(response => response.json())\n      .then(result => {\n        if (result.code === 1) {\n          const token = result.data.token;\n          localStorage.setItem(\"token\", token);\n          window.location = \"/\";\n        } else if (result.code === 20002) {\n          this.setState({ loading: false, error: result.msg });\n        }\n      })\n      .catch(error => {\n        console.log(error);\n        this.setState({ loading: false, error: \"与服务器通信出现错误\" });\n      });\n  }\n\n  render() {\n    const { loading, error } = this.state;\n    const { role } = this.props;\n\n    return (\n      <Form name=\"normal_login\" onFinish={this.onFinish} size=\"large\">\n        {error && (\n          <Alert\n            style={{ marginBottom: 16 }}\n            message={error}\n            type=\"error\"\n            showIcon\n          />\n        )}\n\n        <Form.Item\n          name=\"phone\"\n          rules={\n            role === \"admin\"\n              ? [{ required: true, message: \"请输入酒店名！\" }]\n              : [\n                  {\n                    required: true,\n                    message: \"请输入你的手机号！\",\n                  },\n                  {\n                    len: 11,\n                    message: \"手机号需为 11 位！\",\n                  },\n                ]\n          }\n        >\n          <Input placeholder={role === \"admin\" ? \"酒店名\" : \"手机号\"} />\n        </Form.Item>\n        <Form.Item\n          name=\"password\"\n          rules={[\n            {\n              required: true,\n              message: \"请输入你的密码！\",\n            },\n          ]}\n        >\n          <Input type=\"password\" placeholder=\"密码\" />\n        </Form.Item>\n\n        <Form.Item>\n          <Button\n            type=\"primary\"\n            htmlType=\"submit\"\n            className=\"login-signup-form-button\"\n            loading={loading}\n          >\n            登录\n          </Button>\n          <div className=\"after-btn-text\">\n            或 <Link to=\"signup\">立即注册</Link>\n          </div>\n        </Form.Item>\n      </Form>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Form, Input, Button, Alert, Tabs } from \"antd\";\nimport { Link } from \"react-router-dom\";\n\nexport default class SignUp extends Component {\n  render() {\n    return (\n      <div className=\"teahouse-full-screen-container\">\n        <div className=\"login-signup-form\">\n          <Tabs defaultActiveKey=\"1\">\n            <Tabs.TabPane tab=\"普通用户\" key=\"1\">\n              <SignupForm role=\"user\"></SignupForm>\n            </Tabs.TabPane>\n            <Tabs.TabPane tab=\"管理员\" key=\"2\">\n              <SignupForm role=\"admin\"></SignupForm>\n            </Tabs.TabPane>\n          </Tabs>\n        </div>\n      </div>\n    );\n  }\n}\n\nclass SignupForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: false,\n      error: \"\",\n    };\n  }\n\n  onFinish = values => {\n    this.setState({\n      loading: true,\n      error: \"\",\n    });\n\n    this.signup2Server(values);\n  };\n\n  signupFake() {\n    setTimeout(() => {\n      this.setState({\n        loading: false,\n        error: \"该手机号码已被注册，请输入其他手机号\",\n      });\n    }, 1000);\n  }\n\n  signup2Server(values) {\n    const { role } = this.props;\n    const url = `${process.env.REACT_APP_SERVER}/register`;\n    const body = new FormData();\n    body.append(\"phone\", values.phone);\n    body.append(\"password\", values.password);\n\n    fetch(url, {\n      method: \"POST\",\n      headers:\n        role === \"admin\"\n          ? {\n              \"X-Role\": \"admin\",\n            }\n          : {\n              \"X-Role\": \"user\",\n            },\n      body,\n    })\n      .then(response => response.json())\n      .then(result => {\n        if (result.code === 1) this.login2Server(values);\n        else this.setState({ error: result.msg, loading: false });\n      })\n      .catch(error => {\n        this.setState({ error: \"与服务器通信出现错误\", loading: false });\n      });\n  }\n\n  login2Server(values) {\n    const { role } = this.props;\n    const url = `${process.env.REACT_APP_SERVER}/login`;\n    const body = new FormData();\n    body.append(\"phone\", values.phone);\n    body.append(\"password\", values.password);\n\n    fetch(url, {\n      method: \"POST\",\n      headers:\n        role === \"admin\"\n          ? {\n              \"X-Role\": \"admin\",\n            }\n          : {\n              \"X-Role\": \"user\",\n            },\n      body,\n    })\n      .then(response => response.json())\n      .then(result => {\n        if (result.code === 1) {\n          const token = result.data.token;\n          localStorage.setItem(\"token\", token);\n          window.location = \"/\";\n        } else if (result.code === 20002) {\n          this.setState({ loading: false, error: result.msg });\n        }\n      })\n      .catch(error => {\n        console.log(error);\n        this.setState({ loading: false, error: \"与服务器通信出现错误\" });\n      });\n  }\n\n  render() {\n    const { role } = this.props;\n    const { loading, error } = this.state;\n\n    return (\n      <Form\n        name=\"sign_up\"\n        className=\"sign-up-form\"\n        onFinish={this.onFinish}\n        size=\"large\"\n      >\n        {error && (\n          <Alert\n            style={{ marginBottom: 16 }}\n            message={error}\n            type=\"error\"\n            showIcon\n          />\n        )}\n\n        <Form.Item\n          name=\"phone\"\n          rules={\n            role === \"admin\"\n              ? [{ required: true, message: \"请输入酒店名！\" }]\n              : [\n                  {\n                    required: true,\n                    message: \"请输入你的手机号！\",\n                  },\n                  {\n                    len: 11,\n                    message: \"手机号需为 11 位！\",\n                  },\n                ]\n          }\n        >\n          <Input placeholder={role === \"admin\" ? \"酒店名\" : \"手机号\"} />\n        </Form.Item>\n\n        <Form.Item\n          name=\"password\"\n          rules={[\n            {\n              required: true,\n              message: \"请输入你的密码！\",\n            },\n            {\n              min: 8,\n              message: \"密码至少为 8 位！\",\n            },\n            {\n              pattern: /(?:\\d+[a-z]|[a-z]+\\d)[a-z\\d]*/,\n              message: \"密码必须包含字母和数字！\",\n            },\n          ]}\n          hasFeedback\n        >\n          <Input.Password placeholder=\"密码\" />\n        </Form.Item>\n\n        <Form.Item\n          name=\"confirm\"\n          dependencies={[\"password\"]}\n          hasFeedback\n          rules={[\n            {\n              required: true,\n              message: \"请确认你的密码！\",\n            },\n            ({ getFieldValue }) => ({\n              validator(rule, value) {\n                if (!value || getFieldValue(\"password\") === value) {\n                  return Promise.resolve();\n                }\n                return Promise.reject(\"两次输入的密码不匹配！\");\n              },\n            }),\n          ]}\n        >\n          <Input.Password placeholder=\"确认密码\" />\n        </Form.Item>\n\n        <Form.Item>\n          <Button\n            loading={loading}\n            type=\"primary\"\n            htmlType=\"submit\"\n            className=\"login-signup-form-button\"\n          >\n            注册\n          </Button>\n          <div className=\"after-btn-text\">\n            或 <Link to=\"/login\">立即登录</Link>\n          </div>\n        </Form.Item>\n      </Form>\n    );\n  }\n}\n","import { Component } from \"react\";\nimport auth from \"../../services/authService\";\n\nexport default class Logout extends Component {\n  render() {\n    auth.logout();\n    window.location = \"/\";\n    return null;\n  }\n}\n","import hotelAndRooms from \"../data/hotel.json\";\nimport auth from \"./authService\";\n\nexport function getHotel(id) {\n  return new Promise((resolve, reject) => {\n    resolve(hotelAndRooms.hotel);\n  });\n}\n\nexport function adminGetHotel() {\n  // return\n}\n\nexport function updateHotel(id, hotel) {\n  const url = `${process.env.REACT_APP_SERVER}/hotels/${id}`;\n  const body = new FormData();\n  for (let key in hotel) body.append(key, hotel[key]);\n\n  return fetch(url, {\n    method: \"PUT\",\n    headers: {\n      Authorization: `Bearer ${auth.getToken()}`,\n    },\n    body,\n  });\n}\n","import React, { Component } from \"react\";\nimport moment from \"moment\";\nimport \"moment/locale/zh-cn\";\nimport {\n  Layout,\n  Menu,\n  Form,\n  Input,\n  Rate,\n  InputNumber,\n  TimePicker,\n  DatePicker,\n  Row,\n  Col,\n  Button,\n  Select,\n} from \"antd\";\nimport { getHotel } from \"../../services/hotelService\";\nimport { getChains } from \"../../services/chainService\";\nimport { getBrands } from \"../../services/brandService\";\nimport { updateHotel } from \"../../services/hotelService\";\nimport \"./Admin.css\";\n\nconst { Content, Sider } = Layout;\nconst { Item } = Form;\nconst { Option } = Select;\n\nexport default class Admin extends Component {\n  render() {\n    const { hotelId } = this.props;\n\n    return (\n      <Layout className=\"site-layout-background admin-layout\">\n        <Sider className=\"site-layout-background\" width={200}>\n          <Menu mode=\"inline\" defaultSelectedKeys={[\"hotel\"]}>\n            <Menu.Item key=\"hotel\">酒店</Menu.Item>\n            <Menu.Item key=\"rooms\">房间</Menu.Item>\n            <Menu.Item key=\"reservations\">订单</Menu.Item>\n          </Menu>\n        </Sider>\n        <Content style={{ padding: \"0 24px\", height: \"calc(100vh - 10em)\" }}>\n          <HotelForm hotelId={hotelId}></HotelForm>\n        </Content>\n      </Layout>\n    );\n  }\n}\n\nclass HotelForm extends Component {\n  formRef = React.createRef();\n\n  state = {\n    updating: false,\n  };\n\n  componentDidMount() {\n    const { hotelId } = this.props;\n\n    getBrands().then(brands => {\n      this.setState({ brands });\n    });\n\n    getChains().then(chains => {\n      this.setState({ chains });\n    });\n\n    getHotel(hotelId).then(hotel => {\n      this.setState({ hotel });\n    });\n  }\n\n  handleFinish = values => {\n    this.setState({ updating: true });\n\n    const { checkin, checkout, yearopened, yearrenovated } = values;\n\n    const toSubmit = {\n      ...this.state.hotel,\n      ...values,\n      checkin: checkin.format(\"h:mm:ss A\"),\n      checkout: checkout.format(\"h:mm:ss A\"),\n      yearopened: yearopened.format(\"yyyy\"),\n      yearrenovated: yearrenovated.format(\"yyyy\"),\n    };\n\n    delete toSubmit.brandname;\n    delete toSubmit.chainname;\n\n    updateHotel()\n      .then(result => {\n        result.json();\n      })\n      .then(({ data }) => {\n        this.setState({ updating: false });\n        this.formRef.current.setFieldsValue(this.hotel2FormValues(data));\n      })\n      .catch(error => {\n        console.log(error);\n        this.setState({ updating: false });\n      });\n  };\n\n  hotel2FormValues(hotel) {\n    return {\n      ...hotel,\n      checkin: moment(hotel.checkin, \"h:mm:ss A\"),\n      checkout: moment(hotel.checkout, \"h:mm:ss A\"),\n      yearopened: moment(hotel.yearopened, \"yyyy\"),\n      yearrenovated: moment(hotel.yearrenovated, \"yyyy\"),\n    };\n  }\n\n  render() {\n    if (!this.state.hotel) return null;\n\n    const { hotel, chains, brands, updating } = this.state;\n\n    return (\n      <Form\n        ref={this.formRef}\n        initialValues={{\n          ...hotel,\n          chainid: chains.find(c => c.chainname === hotel.chainname).chainid,\n          brandid: brands.find(b => b.brandname === hotel.brandname).brandid,\n          checkin: moment(hotel.checkin, \"h:mm:ss A\"),\n          checkout: moment(hotel.checkout, \"h:mm:ss A\"),\n          yearopened: moment(hotel.yearopened, \"yyyy\"),\n          yearrenovated: moment(hotel.yearrenovated, \"yyyy\"),\n        }}\n        onFinish={this.handleFinish}\n        layout=\"vertical\"\n      >\n        <Item label=\"id\" name=\"hotelid\">\n          <Input disabled></Input>\n        </Item>\n        <Item label=\"连锁\" name=\"chainid\">\n          <Select>\n            {chains.map(c => (\n              <Option key={c.chainid} value={c.chainid}>\n                {c.chainname}\n              </Option>\n            ))}\n          </Select>\n        </Item>\n        <Item label=\"品牌\" name=\"brandid\">\n          <Select>\n            {brands.map(c => (\n              <Option key={c.brandid} value={c.brandid}>\n                {c.brandname || \"No brand\"}\n              </Option>\n            ))}\n          </Select>\n        </Item>\n        <Item label=\"英文名\" name=\"hotelname\">\n          <Input></Input>\n        </Item>\n        <Item label=\"正式名\" name=\"hotelformerlyname\">\n          <Input></Input>\n        </Item>\n        <Item label=\"中译名\" name=\"hoteltranslatedname\">\n          <Input></Input>\n        </Item>\n        <Item label=\"地址\" name=\"address\">\n          <Input></Input>\n        </Item>\n        <Item label=\"邮编\" name=\"zipcode\">\n          <Input></Input>\n        </Item>\n        <Item label=\"星级\" name=\"starrating\">\n          <Rate allowHalf></Rate>\n        </Item>\n        <TwoColInput\n          input1={\n            <Item label=\"经度\" name=\"longitude\">\n              <InputNumber\n                style={{ minWidth: \"90%\" }}\n                min={-180}\n                max={180}\n                step={0.000001}\n              ></InputNumber>\n            </Item>\n          }\n          input2={\n            <Item label=\"纬度\" name=\"latitude\">\n              <InputNumber\n                style={{ minWidth: \"90%\" }}\n                min={-180}\n                max={180}\n                step={0.000001}\n              ></InputNumber>\n            </Item>\n          }\n        ></TwoColInput>\n        <TwoColInput\n          input1={\n            <Item label=\"入住时间\" name=\"checkin\">\n              <TimePicker\n                style={{ minWidth: \"90%\" }}\n                use12Hours\n                format=\"h:mm:ss A\"\n              ></TimePicker>\n            </Item>\n          }\n          input2={\n            <Item label=\"退房时间\" name=\"checkout\">\n              <TimePicker\n                style={{ minWidth: \"90%\" }}\n                use12Hours\n                format=\"h:mm:ss A\"\n              ></TimePicker>\n            </Item>\n          }\n        ></TwoColInput>\n        <Item label=\"房间数\" name=\"numberrooms\">\n          <InputNumber></InputNumber>\n        </Item>\n        <Item label=\"楼层数\" name=\"numberfloors\">\n          <InputNumber></InputNumber>\n        </Item>\n        <TwoColInput\n          input1={\n            <Item label=\"开业年份\" name=\"yearopened\">\n              <DatePicker\n                style={{ minWidth: \"90%\" }}\n                picker=\"year\"\n              ></DatePicker>\n            </Item>\n          }\n          input2={\n            <Item label=\"翻新年份\" name=\"yearrenovated\">\n              <DatePicker\n                style={{ minWidth: \"90%\" }}\n                picker=\"year\"\n              ></DatePicker>\n            </Item>\n          }\n        ></TwoColInput>\n        <Item label=\"介绍\" name=\"overview\">\n          <Input.TextArea autoSize></Input.TextArea>\n        </Item>\n        <Item label=\"最低价\" name=\"minprice\">\n          <InputNumber></InputNumber>\n        </Item>\n        <Item>\n          <Button loading={updating} type=\"primary\" htmlType=\"submit\">\n            修改\n          </Button>\n        </Item>\n      </Form>\n    );\n  }\n}\n\nfunction TwoColInput({ input1, input2 }) {\n  return (\n    <Row>\n      <Col span=\"12\">{input1}</Col>\n      <Col span=\"12\">{input2}</Col>\n    </Row>\n  );\n}\n","import brands from \"../data/brands.json\";\n\nexport function getBrands() {\n  return new Promise(resolve => resolve(brands));\n}\n","import chains from \"../data/chains.json\";\n\nexport function getChains() {\n  return new Promise(resolve => resolve(chains));\n}\n","import auth from \"./authService\";\n\nexport function getUser(id) {\n  const url = `${process.env.REACT_APP_SERVER}/users/${id}`;\n\n  return fetch(url, {\n    headers: {\n      Authorization: `Bearer ${auth.getToken()}`,\n    },\n  }).then(response => response.json());\n\n  // return new Promise(resolve => {\n  //   resolve({\n  //     data: {\n  //       id: 1,\n  //       phone: \"13888888888\",\n  //       username: \"Bob\",\n  //       pwd: \"123\",\n  //       email: \"a@a.com\",\n  //       avatar: \"url\",\n  //       smoke: false,\n  //       levelpref: \"1\",\n  //       paypref: \"Alipay\",\n  //     },\n  //   });\n  // });\n}\n\nexport function updateUserInfo(user) {\n  const url = `${process.env.REACT_APP_SERVER}/users/1`;\n  const body = new FormData();\n  for (let key in user) body.append(key, user[key]);\n\n  return fetch(url, {\n    method: \"PUT\",\n    headers: {\n      Authorization: `Bearer ${auth.getToken()}`,\n    },\n    body,\n  });\n}\n\nexport function getUploadAvatarProps() {\n  return {\n    name: \"avatar\",\n    action: `${process.env.REACT_APP_SERVER}/users/1`,\n    method: \"PUT\",\n    headers: {\n      Authorization: `Bearer ${auth.getToken()}`,\n    },\n    accept: \"image/*\",\n    showUploadList: false,\n  };\n}\n","import React, { Component } from \"react\";\nimport { UserOutlined } from \"@ant-design/icons\";\nimport {\n  Avatar,\n  Upload,\n  Button,\n  Space,\n  Input,\n  Form,\n  Radio,\n  Card,\n  message,\n  Skeleton,\n} from \"antd\";\nimport {\n  getUser,\n  getUploadAvatarProps,\n  updateUserInfo,\n} from \"../../services/userService\";\nimport { getPayWays } from \"../../services/payWayService\";\n\nexport default class UserSetting extends Component {\n  state = {\n    loading: true,\n    uploading: false,\n    updating: false,\n  };\n\n  componentDidMount() {\n    getUser(1)\n      .then(result => {\n        this.setState({ user: result.data, loading: false });\n      })\n      .catch(error => {\n        message.error(error.message);\n        this.setState({ loading: false });\n      });\n  }\n\n  handleFinish = values => {\n    this.setState({ updating: true });\n    updateUserInfo(values)\n      .then(() => {\n        this.setState({ updating: false });\n      })\n      .catch(error => {\n        message.error(error.message);\n        this.setState({ updating: false });\n      });\n  };\n\n  handleUploadAvatarChange = info => {\n    this.setState({ uploading: true });\n\n    if (info.file.status === \"error\") {\n      message.error(`图片 ${info.file.name} 上传失败，请重试`);\n      this.setState({ uploading: false });\n    }\n    if (info.file.status === \"done\") {\n      message.success(`图片 ${info.file.name} 上传成功`);\n      const { user } = this.state;\n      this.setState({\n        user: {\n          ...user,\n          avatar: JSON.parse(info.file.response).data.user.avatar,\n        },\n        uploading: false,\n      });\n    }\n  };\n\n  render() {\n    const { user, loading, uploading, updating } = this.state;\n\n    return (\n      <Skeleton loading={loading}>\n        {user ? (\n          <>\n            <AvatarSection\n              uploading={uploading}\n              src={user.avatar}\n              style={{ marginBottom: \"2em\" }}\n              onUploadAvatarChange={this.handleUploadAvatarChange}\n            ></AvatarSection>\n            <UserInfoSection\n              user={user}\n              onFinish={this.handleFinish}\n              updating={updating}\n            ></UserInfoSection>\n          </>\n        ) : null}\n      </Skeleton>\n    );\n  }\n}\n\nclass AvatarSection extends Component {\n  render() {\n    const { src, style, onUploadAvatarChange, uploading } = this.props;\n\n    return (\n      <div style={style}>\n        <Space>\n          <Avatar\n            src={src}\n            size={128}\n            icon={<UserOutlined></UserOutlined>}\n          ></Avatar>\n          <Upload {...getUploadAvatarProps()} onChange={onUploadAvatarChange}>\n            <Button loading={uploading}>上传头像</Button>\n          </Upload>\n        </Space>\n      </div>\n    );\n  }\n}\n\nclass UserInfoSection extends Component {\n  render() {\n    const { user, onFinish, updating } = this.props;\n    const { Item } = Form;\n\n    return (\n      <Card>\n        <Form initialValues={user} layout=\"vertical\" onFinish={onFinish}>\n          <Item label=\"电子邮箱\" name=\"email\">\n            <Input style={{ width: \"50%\" }} type=\"email\"></Input>\n          </Item>\n          <Item label=\"是否吸烟\" name=\"smoke\">\n            <Radio.Group>\n              <Radio key={true} value={true}>\n                是\n              </Radio>\n              <Radio key={false} value={false}>\n                否\n              </Radio>\n            </Radio.Group>\n          </Item>\n          <Item label=\"支付方式偏好\" name=\"paypref\">\n            <Radio.Group>\n              {getPayWays().map(p => (\n                <Radio key={p.key} value={p.key}>\n                  {p.value}\n                </Radio>\n              ))}\n            </Radio.Group>\n          </Item>\n          <Item>\n            <Button loading={updating} type=\"primary\" htmlType=\"submit\">\n              修改\n            </Button>\n          </Item>\n        </Form>\n      </Card>\n    );\n  }\n}\n","import React from \"react\";\nimport { List, Descriptions, Skeleton } from \"antd\";\nimport { getPayWayChineseName } from \"../../services/payWayService\";\n\nexport default function Reservations({ reservations, loading }) {\n  return (\n    <Skeleton active loading={loading}>\n      <List\n        bordered\n        dataSource={reservations}\n        renderItem={r => <Reservation reservation={r}></Reservation>}\n      ></List>\n    </Skeleton>\n  );\n}\n\nfunction Reservation({ reservation }) {\n  const {\n    createat,\n    username,\n    userphone,\n    useremail,\n    checkinat,\n    checkoutat,\n    pay,\n    price,\n    hotel,\n    room,\n  } = reservation;\n\n  const { hoteltranslatedname: hotelTranslatedName } = hotel;\n  const { name: roomName } = room;\n\n  return (\n    <List.Item>\n      <List.Item.Meta\n        title={\n          <ReservationMainInfo\n            hotelTranslatedName={hotelTranslatedName}\n            roomName={roomName}\n            checkInAt={checkinat}\n            checkOutAt={checkoutat}\n          ></ReservationMainInfo>\n        }\n        description={\n          <ReservationSubInfo\n            username={username}\n            userphone={userphone}\n            useremail={useremail}\n            price={price}\n            pay={pay}\n          ></ReservationSubInfo>\n        }\n      ></List.Item.Meta>\n      <ReservationContent\n        createAt={new Date(createat).toLocaleDateString()}\n      ></ReservationContent>\n    </List.Item>\n  );\n}\n\nfunction ReservationMainInfo({\n  hotelTranslatedName,\n  roomName,\n  checkInAt,\n  checkOutAt,\n}) {\n  return (\n    <div>\n      <h2>\n        {hotelTranslatedName} · {roomName}\n      </h2>\n      <p>\n        <h4>\n          入住时间：{new Date(checkInAt).toLocaleDateString()}\n          <span style={{ marginLeft: \"2em\" }}>\n            退房时间：{new Date(checkOutAt).toLocaleDateString()}\n          </span>\n        </h4>\n      </p>\n    </div>\n  );\n}\n\nfunction ReservationSubInfo({ username, userphone, useremail, price, pay }) {\n  const getItemValue = function (value) {\n    return value || \"无\";\n  };\n\n  const { Item } = Descriptions;\n\n  return (\n    <Descriptions>\n      <Item label=\"客人姓名\">{getItemValue(username)}</Item>\n      <Item label=\"客人手机\">{getItemValue(userphone)}</Item>\n      <Item label=\"客人邮箱\">{getItemValue(useremail)}</Item>\n      <Item label=\"价格\">{getItemValue(price)}</Item>\n      <Item label=\"支付方式\">{getPayWayChineseName(getItemValue(pay))}</Item>\n    </Descriptions>\n  );\n}\n\nfunction ReservationContent({ createAt }) {\n  return <p>创建时间：{createAt}</p>;\n}\n","import React, { Component } from \"react\";\nimport { Layout, Menu, message } from \"antd\";\nimport UserSetting from \"./UserSetting\";\nimport Reservations from \"./UserReservations\";\nimport { getReservations } from \"../../services/reservationService\";\n\nconst { Content, Sider } = Layout;\n\nexport default class User extends Component {\n  state = {\n    current: \"reservations\",\n    loading: true,\n  };\n\n  componentDidMount() {\n    getReservations()\n      .then(({ data: reservations }) => {\n        this.setState({ reservations, loading: false });\n      })\n      .catch(error => {\n        message.error(error.message);\n        this.setState({ loading: false });\n      });\n  }\n\n  handleSelect = e => {\n    this.setState({ current: e.key });\n  };\n\n  render() {\n    const { reservations, current, loading } = this.state;\n\n    return (\n      <Layout className=\"site-layout-background admin-layout\">\n        <Sider className=\"site-layout-background\" width={200}>\n          <Menu\n            mode=\"inline\"\n            defaultSelectedKeys={[\"reservations\"]}\n            onSelect={e => this.handleSelect(e)}\n          >\n            <Menu.Item key=\"reservations\">订单</Menu.Item>\n            <Menu.Item key=\"profile\">个人</Menu.Item>\n          </Menu>\n        </Sider>\n        <Content style={{ padding: \"0 24px\", height: \"calc(100vh - 10em)\" }}>\n          {current === \"reservations\" ? (\n            <Reservations\n              loading={loading}\n              reservations={reservations}\n            ></Reservations>\n          ) : (\n            <UserSetting></UserSetting>\n          )}\n        </Content>\n      </Layout>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport Admin from \"./Admin\";\nimport \"./Account.css\";\nimport User from \"./User\";\n\nexport default class Account extends Component {\n  render() {\n    const { user } = this.props;\n    if (!user) return null;\n    return user.role === \"admin\" ? (\n      <Admin hotelId={user.hotelId}></Admin>\n    ) : (\n      <User></User>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport { Switch, Route } from \"react-router-dom\";\nimport jwtDecode from \"jwt-decode\";\nimport Navbar from \"./components/Navbar/Navbar\";\nimport Banner from \"./components/Home/Banner\";\nimport HotelsList from \"./components/Hotels/HotelsList\";\nimport Hotel from \"./components/Hotel/Hotel\";\nimport Reserve from \"./components/Reserve/Reserve\";\nimport Login from \"./components/Login/Login\";\nimport Signup from \"./components/Signup/Signup\";\nimport Logout from \"./components/Logout/Logout\";\nimport Account from \"./components/Account/Account\";\nimport { getAdmin } from \"./services/adminService\";\nimport auth from \"./services/authService\";\n\nclass App extends Component {\n  state = {};\n\n  componentDidMount() {\n    try {\n      const token = auth.getToken();\n      const { role, userPhone: name } = jwtDecode(token);\n\n      if (role === \"admin\") {\n        console.log(\"role is admin\");\n        getAdmin()\n          .then(result => {\n            const { hotelid: hotelId } = result.data;\n\n            this.setState({\n              user: {\n                role,\n                name,\n                hotelId,\n              },\n            });\n          })\n          .catch(error => {\n            console.log(\"get admin error:\", error);\n          });\n      }\n\n      if (role === \"user\") {\n        this.setState({\n          user: {\n            role,\n            name,\n          },\n        });\n      }\n    } catch (error) {}\n  }\n\n  render() {\n    const { user } = this.state;\n\n    return (\n      <div>\n        <Navbar user={user}></Navbar>\n        <Switch>\n          <Route\n            path=\"/account\"\n            render={props => <Account {...props} user={user}></Account>}\n          ></Route>\n          <Route path=\"/signup\" component={Signup}></Route>\n          <Route path=\"/login\" component={Login}></Route>\n          <Route path=\"/logout\" component={Logout}></Route>\n          <Route path=\"/reserve\" component={Reserve}></Route>\n          <Route path=\"/hotels/:id\" component={Hotel}></Route>\n          <Route path=\"/hotels\" component={HotelsList}></Route>\n          <Route path=\"/\" component={Banner}></Route>\n        </Switch>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import auth from \"./authService\";\n\nexport function getAdmin() {\n  const url = `${process.env.REACT_APP_SERVER}/admins`;\n\n  return fetch(url, {\n    method: \"GET\",\n    headers: {\n      Authorization: `Bearer ${auth.getToken()}`,\n    },\n  }).then(result => result.json());\n}\n\nexport function getFakeAdmin() {\n  return new Promise((resolve, reject) => {\n    resolve({\n      data: {\n        hotelid: 283775,\n      },\n    });\n  });\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { ConfigProvider, Spin } from \"antd\";\nimport zhCN from \"antd/es/locale/zh_CN\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nSpin.setDefaultIndicator(<LoadingOutlined style={{ fontSize: \"4em\" }} spin />);\n\nReactDOM.render(\n  <ConfigProvider locale={zhCN}>\n    {/* <React.StrictMode> */}\n    <Router>\n      <App />\n    </Router>\n    {/* </React.StrictMode> */}\n  </ConfigProvider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}