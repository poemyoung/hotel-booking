(this["webpackJsonphotels-booking-front-end"]=this["webpackJsonphotels-booking-front-end"]||[]).push([[0],{156:function(e){e.exports=JSON.parse('{"hotel":{"hotelid":2616,"chainname":"Marriott","brandname":"Hanting Hotel","hotelname":"Jinjiang Hotel East Building","hotelformerlyname":null,"hoteltranslatedname":"\u56db\u5ddd\u9526\u6c5f\u5bbe\u9986\u4e1c\u697c","address":"No.80, Second Section South Renmin Road","zipcode":"610012","starrating":3.5,"longitude":104.065739,"latitude":30.648103,"checkin":"02:00:00 PM","checkout":"12:00:00 PM","numberrooms":480,"numberfloors":9,"yearopened":1960,"yearrenovated":2012,"photoone":"http://pix5.agoda.net/hotelimages/261/2616/2616_15072113380032685686.jpg?s=312x","phototwo":"http://pix1.agoda.net/hotelimages/261/2616/2616_16060715110043233943.jpg?s=312x","photothree":"http://pix1.agoda.net/hotelimages/261/2616/2616_15072113380032685704.jpg?s=312x","photofour":"http://pix4.agoda.net/hotelimages/261/2616/2616_15072113380032685706.jpg?s=312x","photofive":"http://pix3.agoda.net/hotelimages/261/2616/2616_15072113380032685708.jpg?s=312x","overview":"\u9526\u6c5f\u5bbe\u9986\u662f\u5546\u52a1\u4eba\u58eb\u548c\u89c2\u5149\u6e38\u5ba2\u524d\u5f80\u6210\u90fd\u7684\u7406\u60f3\u4e0b\u69bb\u4e4b\u5904\u3002 \u5b8c\u5584\u7684\u8bbe\u65bd\uff0c\u7cbe\u7f8e\u7684\u88c5\u9970\uff0c\u8fd9\u4e9b\u90fd\u53ef\u8ba9\u60a8\u5728\u4f4f\u5bbf\u671f\u95f4\u611f\u53d7\u5230\u66f4\u591a\u6109\u60a6\u3002 \u5728\u9152\u5e97\u5185\uff0c\u60a8\u4f1a\u53d1\u73b0\u5185\u8bbe\u514d\u8d39\u623f\u5185\u65e0\u7ebf\u7f51\u7edc, 24\u5c0f\u65f6\u5b89\u4fdd, \u6bcf\u65e5\u5ba2\u623f\u6e05\u6d01\u670d\u52a1, \u4f20\u771f\u673a, \u533b\u52a1\u5ba4\u7b49\u8bbe\u65bd\u3002 \u90e8\u5206\u5ba2\u623f\u5185\u8bbe \u5e73\u677f\u7535\u89c6, \u65e0\u7ebf\u4e0a\u7f51, \u65e0\u7ebf\u4e0a\u7f51(\u514d\u8d39), \u6309\u6469\u6d74\u7f38, \u7981\u70df\u623f\u7b49\u8bbe\u65bd\uff0c\u52a0\u4e0a\u8bbe\u8ba1\u88c5\u9970\u6e29\u99a8\u8212\u9002\uff0c\u5b9a\u80fd\u5e26\u7ed9\u4f4f\u5ba2\u5bbe\u81f3\u5982\u5f52\u7684\u611f\u53d7\u3002 \u4e3a\u4e86\u8ba9\u6e38\u5ba2\u4f53\u9a8c\u66f4\u5b8c\u7f8e\u7684\u4f4f\u5bbf\u4f53\u9a8c\uff0c\u9152\u5e97\u63d0\u4f9b\u4e86\u591a\u79cd\u4f11\u95f2\u8bbe\u65bd\uff0c\u4f8b\u5982\u5065\u8eab\u4e2d\u5fc3, \u6851\u62ff, \u5ba4\u5185\u6e38\u6cf3\u6c60, \u6309\u6469, \u82b1\u56ed\u7b49\u3002 \u9526\u6c5f\u5bbe\u9986\u5c06\u70ed\u60c5\u7684\u670d\u52a1\u4e0e\u4f18\u7f8e\u7684\u73af\u5883\u5b8c\u7f8e\u5730\u7ed3\u5408\u5728\u4e86\u4e00\u8d77\uff0c\u53ef\u8ba9\u60a8\u7684\u6210\u90fd\u4e4b\u884c\u53d8\u5f97\u66f4\u52a0\u96be\u5fd8\u3002","minprice":584,"numberofreviews":83,"averagerating":8.3},"rooms":[{"id":1,"name":"A","price":143,"capacity":2,"intro":"\u5468\u56f4\u5b89\u9759, \u73af\u5883\u8212\u9002, \u65c5\u6e38\u5fc5\u9009, \u5b89\u5168\u4fdd\u8bc1, \u79bb\u8f66\u7ad9\u8fd1, wifi\u5168\u8986\u76d6, \u72ec\u7acb\u536b\u6d74, \u6709\u7a7a\u8c03","count":4,"hotelid":2616},{"id":2,"name":"WiBtt","price":143,"capacity":2,"intro":"\u5468\u56f4\u5b89\u9759, \u73af\u5883\u8212\u9002, \u65c5\u6e38\u5fc5\u9009, \u5b89\u5168\u4fdd\u8bc1, \u79bb\u8f66\u7ad9\u8fd1, wifi\u5168\u8986\u76d6, \u72ec\u7acb\u536b\u6d74, \u6709\u7a7a\u8c03","count":4,"hotelid":2616},{"id":3,"name":"CWitt","price":143,"capacity":2,"intro":"\u5468\u56f4\u5b89\u9759, \u73af\u5883\u8212\u9002, \u65c5\u6e38\u5fc5\u9009, \u5b89\u5168\u4fdd\u8bc1, \u79bb\u8f66\u7ad9\u8fd1, wifi\u5168\u8986\u76d6, \u72ec\u7acb\u536b\u6d74, \u6709\u7a7a\u8c03","count":4,"hotelid":2616},{"id":4,"name":"DWitt","price":143,"capacity":2,"intro":"\u6709\u7a7a\u8c03, \u65c5\u6e38\u5fc5\u9009, \u5468\u56f4\u5b89\u9759, wifi\u5168\u8986\u76d6, \u79bb\u8f66\u7ad9\u8fd1, \u73af\u5883\u8212\u9002, \u5b89\u5168\u4fdd\u8bc1, \u72ec\u7acb\u536b\u6d74","count":4,"hotelid":2616}]}')},191:function(e){e.exports=JSON.parse('[{"key":"Alipay","value":"\u652f\u4ed8\u5b9d"},{"key":"WeChatpay","value":"\u5fae\u4fe1\u652f\u4ed8"},{"key":"Unionpay","value":"\u94f6\u8054"}]')},254:function(e){e.exports=JSON.parse('[{"hotelid":1297,"chainname":"Marriott","brandname":"Sheraton","hotelname":"Sheraton Chengdu Lido Hotel","hotelformerlyname":null,"hoteltranslatedname":"\u6210\u90fd\u5929\u5e9c\u4e3d\u90fd\u559c\u6765\u767b\u996d\u5e97","address":"No. 15, Section 1, Ren Min Zhong Road","zipcode":"610015","starrating":5,"longitude":"104.063461","latitude":"30.667376","checkin":"03:00:00 PM","checkout":"12:00:00 AM","numberrooms":"387","numberfloors":"35","yearopened":"2000","yearrenovated":"2013","photoone":"http://pix4.agoda.net/hotelimages/1297/0/bd87a86dccd8e39d308ef076bbcc4b23.jpg?s=312x","phototwo":"http://pix3.agoda.net/hotelimages/129/1297/1297_18122813570070896489.jpg?s=312x","photothree":"http://pix4.agoda.net/hotelimages/129/1297/1297_17062019470053906921.jpg?s=312x","photofour":"http://pix1.agoda.net/hotelimages/129/1297/1297_17092809340056881861.jpg?s=312x","photofive":"http://pix2.agoda.net/hotelimages/129/1297/1297_17092809340056881862.jpg?s=312x","overview":"\u6210\u90fd\u5929\u5e9c\u4e3d\u90fd\u559c\u6765\u767b\u996d\u5e97\u662f\u4e00\u5bb6\u5728\u53e3\u7891\u6781\u4f73\u7684\u6210\u90fd\u9152\u5e97\uff0c\u4e0d\u7ba1\u662f\u6df1\u5ea6\u6e38\u8fd8\u662f\u4e00\u65e5\u6e38\uff0c\u8fd9\u5bb6\u9152\u5e97\u90fd\u4f1a\u662f\u60a8\u7684\u7406\u60f3\u4e4b\u9009\u3002 \u9152\u5e97\u5185\u8bbe\u65bd\u9f50\u5168\uff0c\u53ef\u4e3a\u4f4f\u5ba2\u63d0\u4f9b\u8212\u9002\u7684\u4f4f\u5bbf\u6761\u4ef6\u3002 \u9152\u5e97\u5185\u8bbe\u65bd\u7e41\u591a\uff0c\u514d\u8d39\u623f\u5185\u65e0\u7ebf\u7f51\u7edc, \u5a31\u4e50\u573a, 24\u5c0f\u65f6\u524d\u53f0, 24\u5c0f\u65f6\u9001\u9910\u670d\u52a1, \u65e0\u969c\u788d\u8bbe\u65bd\u7b49\u90fd\u5df2\u914d\u5907\u3002 \u5ba2\u623f\u8bbe\u8ba1\u6781\u5176\u8212\u9002\uff0c\u88c5\u9970\u4f18\u96c5\uff0c\u6b64\u5916\u8fd8\u914d\u5907\u4e86\u4f17\u591a\u4fbf\u6377\u8bbe\u65bd\uff0c\u90e8\u5206\u5ba2\u623f\u8fd8\u914d\u6709\u5e73\u677f\u7535\u89c6, \u65e0\u7ebf\u4e0a\u7f51, \u65e0\u7ebf\u4e0a\u7f51(\u514d\u8d39), \u7981\u70df\u623f, \u7a7a\u8c03\u7b49\u3002 \u9152\u5e97\u4e13\u95e8\u4e3a\u4f4f\u5ba2\u51c6\u5907\u4e86\u5065\u8eab\u4e2d\u5fc3, \u6851\u62ff, \u5ba4\u5185\u6e38\u6cf3\u6c60, \u6c34\u7597\u4e2d\u5fc3, \u6309\u6469\u7b49\uff0c\u53ef\u5927\u5927\u63d0\u5347\u60a8\u5bf9\u9152\u5e97\u7684\u6ee1\u610f\u5ea6\u3002 \u5728 \u6210\u90fd\u5929\u5e9c\u4e3d\u90fd\u559c\u6765\u767b\u996d\u5e97 \u4f4f\u5bbf\u671f\u95f4\uff0c\u4f60\u4f1a\u53d1\u73b0\u9152\u5e97\u5185\u6c14\u6c1b\u6e29\u99a8\uff0c\u670d\u52a1\u4e00\u6d41\uff0c\u5e26\u7ed9\u60a8\u5bbe\u81f3\u5982\u5f52\u7684\u611f\u53d7\u3002","minprice":"515","numberofreviews":"52","averagerating":"7.7"},{"hotelid":2616,"chainname":"Marriott","brandname":"Marriott","hotelname":"Jinjiang Hotel East Building","hotelformerlyname":null,"hoteltranslatedname":"\u56db\u5ddd\u9526\u6c5f\u5bbe\u9986\u4e1c\u697c","address":"No.80, Second Section South Renmin Road","zipcode":"610012","starrating":5,"longitude":"104.065739","latitude":"30.648103","checkin":"02:00:00 PM","checkout":"12:00:00 PM","numberrooms":"480","numberfloors":"9","yearopened":"1960","yearrenovated":"2012","photoone":"http://pix5.agoda.net/hotelimages/261/2616/2616_15072113380032685686.jpg?s=312x","phototwo":"http://pix1.agoda.net/hotelimages/261/2616/2616_16060715110043233943.jpg?s=312x","photothree":"http://pix1.agoda.net/hotelimages/261/2616/2616_15072113380032685704.jpg?s=312x","photofour":"http://pix4.agoda.net/hotelimages/261/2616/2616_15072113380032685706.jpg?s=312x","photofive":"http://pix3.agoda.net/hotelimages/261/2616/2616_15072113380032685708.jpg?s=312x","overview":"\u9526\u6c5f\u5bbe\u9986\u662f\u5546\u52a1\u4eba\u58eb\u548c\u89c2\u5149\u6e38\u5ba2\u524d\u5f80\u6210\u90fd\u7684\u7406\u60f3\u4e0b\u69bb\u4e4b\u5904\u3002 \u5b8c\u5584\u7684\u8bbe\u65bd\uff0c\u7cbe\u7f8e\u7684\u88c5\u9970\uff0c\u8fd9\u4e9b\u90fd\u53ef\u8ba9\u60a8\u5728\u4f4f\u5bbf\u671f\u95f4\u611f\u53d7\u5230\u66f4\u591a\u6109\u60a6\u3002 \u5728\u9152\u5e97\u5185\uff0c\u60a8\u4f1a\u53d1\u73b0\u5185\u8bbe\u514d\u8d39\u623f\u5185\u65e0\u7ebf\u7f51\u7edc, 24\u5c0f\u65f6\u5b89\u4fdd, \u6bcf\u65e5\u5ba2\u623f\u6e05\u6d01\u670d\u52a1, \u4f20\u771f\u673a, \u533b\u52a1\u5ba4\u7b49\u8bbe\u65bd\u3002 \u90e8\u5206\u5ba2\u623f\u5185\u8bbe \u5e73\u677f\u7535\u89c6, \u65e0\u7ebf\u4e0a\u7f51, \u65e0\u7ebf\u4e0a\u7f51(\u514d\u8d39), \u6309\u6469\u6d74\u7f38, \u7981\u70df\u623f\u7b49\u8bbe\u65bd\uff0c\u52a0\u4e0a\u8bbe\u8ba1\u88c5\u9970\u6e29\u99a8\u8212\u9002\uff0c\u5b9a\u80fd\u5e26\u7ed9\u4f4f\u5ba2\u5bbe\u81f3\u5982\u5f52\u7684\u611f\u53d7\u3002 \u4e3a\u4e86\u8ba9\u6e38\u5ba2\u4f53\u9a8c\u66f4\u5b8c\u7f8e\u7684\u4f4f\u5bbf\u4f53\u9a8c\uff0c\u9152\u5e97\u63d0\u4f9b\u4e86\u591a\u79cd\u4f11\u95f2\u8bbe\u65bd\uff0c\u4f8b\u5982\u5065\u8eab\u4e2d\u5fc3, \u6851\u62ff, \u5ba4\u5185\u6e38\u6cf3\u6c60, \u6309\u6469, \u82b1\u56ed\u7b49\u3002 \u9526\u6c5f\u5bbe\u9986\u5c06\u70ed\u60c5\u7684\u670d\u52a1\u4e0e\u4f18\u7f8e\u7684\u73af\u5883\u5b8c\u7f8e\u5730\u7ed3\u5408\u5728\u4e86\u4e00\u8d77\uff0c\u53ef\u8ba9\u60a8\u7684\u6210\u90fd\u4e4b\u884c\u53d8\u5f97\u66f4\u52a0\u96be\u5fd8\u3002","minprice":"584","numberofreviews":"83","averagerating":"8.3"},{"hotelid":8363,"chainname":null,"brandname":null,"hotelname":"Chengdu Yinhe Dynasty Hotel","hotelformerlyname":"Yinhe Dynasty InterContinental Hotel","hoteltranslatedname":"\u56db\u5ddd\u9526\u6c5f\u5bbe\u9986\u4e1c\u697c","address":"No. 88, Shun Cheng Street","zipcode":"610016","starrating":4,"longitude":"104.071121","latitude":"30.658814","checkin":"01:00:00 PM","checkout":null,"numberrooms":"365","numberfloors":"22","yearopened":"1995","yearrenovated":null,"photoone":"http://pix4.agoda.net/hotelimages/836/8363/8363_15072218350032817329.jpg?s=312x","phototwo":"http://pix5.agoda.net/hotelimages/836/8363/8363_15072218360032817378.jpg?s=312x","photothree":"http://pix3.agoda.net/hotelimages/836/8363/8363_15072218350032817330.jpg?s=312x","photofour":"http://pix5.agoda.net/hotelimages/836/8363/8363_15072218350032817331.jpg?s=312x","photofive":"http://pix1.agoda.net/hotelimages/836/8363/8363_15072218350032817332.jpg?s=312x","overview":"\u4e0b\u69bb\u6210\u90fd\u94f6\u6cb3\u738b\u671d\u5927\u9152\u5e97\uff0c\u611f\u53d7\u6210\u90fd\u7684\u72ec\u7279\u9b45\u529b\u3002 \u9152\u5e97\u5185\u8bbe\u591a\u79cd\u8bbe\u65bd\u548c\u670d\u52a1\uff0c\u53ef\u8ba9\u60a8\u5c3d\u53d7\u8212\u9002\u4e0e\u9163\u7761\u3002 \u514d\u8d39\u623f\u5185\u65e0\u7ebf\u7f51\u7edc, \u5a31\u4e50\u573a, 24\u5c0f\u65f6\u524d\u53f0, 24\u5c0f\u65f6\u9001\u9910\u670d\u52a1, \u65e0\u969c\u788d\u8bbe\u65bd\u7b49\u8bbe\u65bd\u90fd\u5df2\u914d\u5907\uff0c\u53ef\u4f9b\u4f4f\u5ba2\u4f7f\u7528\u3002 \u5ba2\u623f\u8212\u9002\u6e29\u99a8\uff0c\u90e8\u5206\u5ba2\u623f\u5185\u8bbe\u5e73\u677f\u7535\u89c6, \u65e0\u7ebf\u4e0a\u7f51, \u65e0\u7ebf\u4e0a\u7f51(\u514d\u8d39), \u7981\u70df\u623f, \u7a7a\u8c03\u7b49\u8bbe\u65bd\u3002 \u4e3a\u4e86\u8ba9\u6e38\u5ba2\u4f53\u9a8c\u66f4\u5b8c\u7f8e\u7684\u4f4f\u5bbf\u4f53\u9a8c\uff0c\u9152\u5e97\u63d0\u4f9b\u4e86\u591a\u79cd\u4f11\u95f2\u8bbe\u65bd\uff0c\u4f8b\u5982\u5065\u8eab\u4e2d\u5fc3, \u6851\u62ff, \u5ba4\u5916\u6e38\u6cf3\u6c60, \u7f51\u7403\u573a, \u5361\u62c9OK\u7b49\u3002 \u4e0b\u69bb\u6210\u90fd\u94f6\u6cb3\u738b\u671d\u5927\u9152\u5e97\uff0c\u53ef\u65b9\u4fbf\u60a8\u524d\u5f80\u6210\u90fd \u5404\u533a\u3002","minprice":"323","numberofreviews":"77","averagerating":"7.7"}]')},264:function(e){e.exports=JSON.parse('[{"chainid":"0","chainname":"No chain"},{"chainid":"12","chainname":"Fraser Hospitality"},{"chainid":"146","chainname":"Green Tree Inns"},{"chainid":"16","chainname":"InterContinental Hotels Group"},{"chainid":"17","chainname":"Kempinski"},{"chainid":"178","chainname":"Jinjiang International"},{"chainid":"21","chainname":"Marriott"},{"chainid":"22","chainname":"Millennium & Copthorne Hotels"},{"chainid":"25","chainname":"Oakwood Worldwide"},{"chainid":"282","chainname":"Shangri-La Hotels and Resorts"},{"chainid":"3","chainname":"Accor Hotels"},{"chainid":"307","chainname":"Thistle & Guoman"},{"chainid":"326","chainname":"Vienna Hotel Group"},{"chainid":"339","chainname":"Wyndham Hotels & Resorts"},{"chainid":"382","chainname":"Home Inn"},{"chainid":"4","chainname":"Ascott International"},{"chainid":"403","chainname":"Oaks Hotels & Resorts"},{"chainid":"6","chainname":"Best Western International"},{"chainid":"622","chainname":"Huazhu Hotels Group"}]')},265:function(e){e.exports=JSON.parse('[{"brandid":"0","brandname":null},{"brandid":"1014","brandname":"Hanting Hotel"},{"brandid":"109","brandname":"Renaissance"},{"brandid":"116","brandname":"Millennium Hotels"},{"brandid":"119","brandname":"Oakwood Worldwide"},{"brandid":"1335","brandname":"Vienna Hotel Group"},{"brandid":"30","brandname":"Ibis Hotels"},{"brandid":"31","brandname":"Mercure"},{"brandid":"322","brandname":"Green Tree Inn"},{"brandid":"37","brandname":"Sofitel Hotels & Resorts"},{"brandid":"371","brandname":"Jinjiang Inn"},{"brandid":"3821","brandname":"Sheraton"},{"brandid":"42","brandname":"Somerest Serviced Residence"},{"brandid":"4215","brandname":"World Hotels"},{"brandid":"583","brandname":"Thistle Hotels"},{"brandid":"63","brandname":"Fraser Suites"},{"brandid":"633","brandname":"Howard Johnson"},{"brandid":"636","brandname":"Ramada Worldwide"},{"brandid":"637","brandname":"Super 8"},{"brandid":"640","brandname":"Wyndham Hotels and Resorts"},{"brandid":"771","brandname":"Shangri-La City Hotels"},{"brandid":"780","brandname":"Oaks"},{"brandid":"85","brandname":"Crowne Plaza"},{"brandid":"857","brandname":"Home Inn"},{"brandid":"86","brandname":"Holiday Inn"},{"brandid":"88","brandname":"Holiday Inn Express"},{"brandid":"894","brandname":"No brand"},{"brandid":"91","brandname":"InterContinental"},{"brandid":"93","brandname":"Kempinski"}]')},279:function(e,t,a){e.exports=a(569)},284:function(e,t,a){},287:function(e,t,a){},292:function(e,t,a){},293:function(e,t,a){},404:function(e,t,a){},417:function(e,t,a){},500:function(e,t,a){},502:function(e,t,a){},503:function(e,t,a){},504:function(e,t,a){},553:function(e,t,a){},554:function(e,t,a){},555:function(e,t,a){},558:function(e,t,a){},569:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(24),l=a.n(o),c=a(8),i=a(9),s=a(11),m=a(10),u=(a(284),a(32)),d=a(240),h=a.n(d),p=a(45),g=(a(287),function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.user;return r.a.createElement("header",null,r.a.createElement("nav",{className:"navbar"},r.a.createElement("div",{className:"logo"},r.a.createElement(p.b,{to:"/"},r.a.createElement("span",{role:"img","aria-label":"panda logo"},"\ud83d\udc3c"))),e?r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(p.b,{to:"/logout"},"\u767b\u51fa")),r.a.createElement("li",null,r.a.createElement(p.b,{to:"/account"},e.name))):r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(p.b,{to:"/login"},"\u767b\u5f55")),r.a.createElement("li",null,r.a.createElement(p.b,{to:"/signup"},"\u6ce8\u518c")))))}}]),a}(n.Component)),f=(a(292),function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"title"},r.a.createElement("h3",null,"Welcome to Chengdu"),r.a.createElement("h2",null,"\u6b22\u8fce\u6765\u5230\u6210\u90fd"),r.a.createElement("p",null,"\u63a2\u7d22\u6210\u90fd\u7684\u9152\u5e97"))}}]),a}(n.Component)),v=a(274),E=a(35),b=a(28),y=a.n(b),k=(a(160),a(578)),O=a(579),j=a(98),S=a(57),I=a(192),w=a(588),x=a(71),T=a(591);a(293);function C(e){var t=e.submitContent,a=e.initialValues,o=e.hotelName;t=t||"\u641c\u7d22",a=a||{dates:[y()(),y()().add(1,"day")],numOfCustomers:1};var l=k.a.useForm(),c=Object(v.a)(l,1)[0];return Object(n.useEffect)((function(){o&&c.setFieldsValue({location:o})}),[o,c]),r.a.createElement(k.a,{form:c,style:e.style,onFinish:function(t){var a=Object(E.a)({},t);a.checkInTime=t.dates[0].format("YYYY-MM-DD"),a.checkOutTime=t.dates[1].format("YYYY-MM-DD"),e.history.push("/hotels?location=".concat(a.location,"&checkInTime=").concat(a.checkInTime,"&checkOutTime=").concat(a.checkOutTime,"&numOfCustomers=").concat(a.numOfCustomers))},size:"large",className:"search-form",initialValues:a},r.a.createElement(k.a.Item,{name:"location",rules:[{required:!0,message:"\u8bf7\u586b\u5199\u4f4d\u7f6e\u6216\u9152\u5e97\u540d"}],wrapperCol:{span:24}},r.a.createElement(O.a,{placeholder:"\u4f4d\u7f6e\u6216\u9152\u5e97\u540d",prefix:r.a.createElement(T.a,null)})),r.a.createElement(j.a,{gutter:16},r.a.createElement(S.a,null,r.a.createElement(k.a.Item,{name:"dates",rules:[{required:!0,message:"\u8bf7\u586b\u5199\u5165\u4f4f\u65e5\u671f\u4e0e\u9000\u623f\u65e5\u671f"}]},r.a.createElement(I.a.RangePicker,{placeholder:["\u5165\u4f4f\u65e5\u671f","\u9000\u623f\u65e5\u671f"],ranges:{"\u4eca\u660e\u4e24\u5929":[y()(),y()().add(1,"day")],"\u4eca\u5929\u8d77\u4e00\u5468":[y()(),y()().add(6,"days")]}}))),r.a.createElement(S.a,null,r.a.createElement(k.a.Item,{name:"numOfCustomers",rules:[{required:!0,message:"\u8bf7\u586b\u5199\u5165\u4f4f\u4eba\u6570"}]},r.a.createElement(w.a,{min:1,max:10,formatter:function(e){return"".concat(e," \u4eba")}}))),r.a.createElement(S.a,{flex:"auto"},r.a.createElement(k.a.Item,null,r.a.createElement(x.a,{type:"primary",htmlType:"submit",block:!0},t)))))}a(404);var N=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"banner"},r.a.createElement(f,null),r.a.createElement(C,{history:this.props.history}))}}]),a}(n.Component),A=a(62),F=a.n(A),M=a(586),H=a(580),D=(a(417),function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"average-rating-container"},r.a.createElement("span",{className:"rating"},this.props.averagerating),r.a.createElement("span",{className:"small"},"\u5206"))}}]),a}(n.Component)),R=a(582),z=a(581);function P(e){var t=e.minprice;return r.a.createElement(z.a,{title:"\u6700\u4f4e\u4ef7",value:t,suffix:"\uffe5"})}var J=a(252),W=a.n(J),_=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(M.a.Meta,{title:r.a.createElement(R.a,{allowHalf:!0,disabled:!0,defaultValue:this.props.starrating}),description:r.a.createElement("div",null,r.a.createElement(W.a,{ellipsis:{rows:2}},this.props.overview),r.a.createElement(P,{minprice:this.props.minprice})),avatar:r.a.createElement("div",{className:"img-container"},r.a.createElement("img",{className:"hotel-img",src:this.props.photoone,alt:"hotel"}))}))}}]),a}(n.Component),U=a(277),L=a(589),V=a(253);a(500);function q(e){var t=e.loading,a=e.onLoad,n=e.latitude,o=e.longitude;return r.a.createElement(L.a,{placement:"bottom",trigger:"hover",content:r.a.createElement("div",{className:"map-container"},t?r.a.createElement(V.a,{className:"map-spin"}):null,r.a.createElement("iframe",{onLoad:a,title:"The hotel's location in Google Map",src:"https://maps.google.com/maps?q="+n+","+o+"&t=&z=15&ie=UTF8&iwloc=&output=embed",width:"360",height:"270",frameBorder:"0",style:{border:0},allowFullScreen:!0,"aria-hidden":"false",tabIndex:"0",className:"map"}))},r.a.createElement("sub",{className:"show-map"},"\u67e5\u770b\u5730\u56fe"))}var B=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onLoad=function(){n.setState({loading:!1})},n.state={loading:!0},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state.loading,t=this.props,a=t.hoteltranslatedname,n=t.address,o=t.chainname,l=t.brandname,c=t.latitude,i=t.longitude;return"No chain"===o&&(o=null),"No brand"===l&&(l=null),r.a.createElement("div",null,r.a.createElement("h2",null,a),o?r.a.createElement(U.a,{color:"blue"},"\u8fde\u9501 ",o):null,l?r.a.createElement(U.a,{color:"geekblue"},"\u54c1\u724c ",l):null,r.a.createElement("div",null,r.a.createElement("sub",null,n),r.a.createElement(q,{loading:e,onLoad:this.onLoad,latitude:c,longitude:i})))}}]),a}(n.Component),G=(a(502),function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onClick=function(){var t=e.props,a=t.history,n=t.hotelid,r=t.location,o=F.a.parse(r.search),l=o.checkInTime,c=o.checkOutTime,i=o.location,s=o.numOfCustomers;l&&c?a.push("/hotels/".concat(n,"?location=").concat(i,"&checkInTime=").concat(l,"&checkOutTime=").concat(c,"&numOfCustomers=").concat(s)):a.push("/hotels/".concat(n))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.loading,a=e.averagerating;return r.a.createElement("div",{onClick:this.onClick},r.a.createElement(M.a,{className:"hotel-item",title:r.a.createElement(H.a,{active:!0,loading:t},r.a.createElement(B,this.props)),hoverable:!0,extra:r.a.createElement(H.a,{active:!0,loading:t},r.a.createElement(D,{averagerating:a}))},r.a.createElement(H.a,{active:!0,loading:t},r.a.createElement(_,this.props))))}}]),a}(n.Component)),Y=a(254),X=(a(503),function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={error:null,loading:!0,hotels:["","",""]},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getDataFromServer()}},{key:"getDataFromServer",value:function(){var e=this,t="".concat("http://localhost:8080","/hotels"),a=this.props.location.search;fetch(t+a).then((function(e){return e.json()})).then((function(t){t.data?e.setState({loading:!1,hotels:t.data}):e.setState({loading:!1,error:{message:t.msg}})}),(function(t){e.setState({loading:!1,error:t})})).catch((function(t){e.setState({loading:!1,error:t})}))}},{key:"getFakeData",value:function(){var e=this;setTimeout((function(){e.setState({loading:!1,hotels:Y})}),500)}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.hotels,o=t.error;return r.a.createElement("div",{className:"hotel-list"},o?r.a.createElement("div",{className:"error-msg"},"Error: ".concat(o.message)):n.map((function(t,n){return r.a.createElement(G,Object.assign({},e.props,{key:null===t.hotelid||void 0===t.hotelid?n:t.hotelid,loading:a},t))})))}}]),a}(n.Component)),Z=a(584),K=a(570);a(504);function Q(e){var t=e.imgUrls,a=e.style,n=e.loading;return r.a.createElement("div",{style:a},r.a.createElement(H.a,{active:!0,loading:n},r.a.createElement(K.a,{style:a,autoplay:!0},t.map((function(e,t){return r.a.createElement("img",{key:t,className:"carousel-img",src:e,alt:"hotel".concat(t)})})))))}function $(e){var t=e.style,a=e.loading,n=e.averagerating,o=e.starrating,l=e.overview;return r.a.createElement(M.a,{style:t,title:r.a.createElement(H.a,{active:!0,loading:a},r.a.createElement(B,e)),extra:r.a.createElement(H.a,{active:!0,loading:a},r.a.createElement(D,{averagerating:n}))},r.a.createElement(H.a,{active:!0,loading:a},r.a.createElement(M.a.Meta,{title:r.a.createElement("div",null,r.a.createElement(R.a,{allowHalf:!0,disabled:!0,value:o})),description:r.a.createElement("div",null,r.a.createElement("p",null,l))}),r.a.createElement(ee,e)))}function ee(e){var t=e.zipcode,a=e.numberfloors,n=e.yearopened,o=e.yearrenovated;return r.a.createElement(M.a,{type:"inner"},r.a.createElement(j.a,{justify:"space-around"},r.a.createElement(S.a,{xs:12,md:6,style:{textAlign:"center"}},r.a.createElement(z.a,{title:"\u90ae\u7f16",groupSeparator:"",value:t})),r.a.createElement(S.a,{xs:12,md:6,style:{textAlign:"center"}},r.a.createElement(z.a,{title:"\u697c\u5c42\u6570",value:a,suffix:"\u5c42"})),r.a.createElement(S.a,{xs:12,md:6,style:{textAlign:"center"}},r.a.createElement(z.a,{title:"\u5f00\u4e1a\u4e8e",groupSeparator:"",value:n,suffix:"\u5e74"})),r.a.createElement(S.a,{xs:12,md:6,style:{textAlign:"center"}},r.a.createElement(z.a,{title:"\u7ffb\u65b0\u4e8e",groupSeparator:"",value:o||"\u672a\u77e5",suffix:o?"\u5e74":null}))))}var te=a(577),ae=a(594),ne=a(595),re=a(590),oe=a(592),le=a(593);function ce(e){var t=e.intro;if(!t)return null;var a=Object(re.a)({scriptUrl:"//at.alicdn.com/t/font_1892580_3whjbqueza5.js"}),n=[{name:"\u5468\u56f4\u5b89\u9759",icon:r.a.createElement(a,{type:"icon-jing"}),color:"green"},{name:"\u73af\u5883\u8212\u9002",icon:r.a.createElement(a,{type:"icon-huanjing"}),color:"volcano"},{name:"\u65c5\u6e38\u5fc5\u9009",icon:r.a.createElement(oe.a,null),color:"magenta"},{name:"\u5b89\u5168\u4fdd\u8bc1",icon:r.a.createElement(a,{type:"icon-anquan"}),color:"success"},{name:"\u79bb\u8f66\u7ad9\u8fd1",icon:r.a.createElement(a,{type:"icon-bus"}),color:"purple"},{name:"wifi\u5168\u8986\u76d6",icon:r.a.createElement(le.a,null),color:"blue"},{name:"\u72ec\u7acb\u536b\u6d74",icon:r.a.createElement(a,{type:"icon-duliweiyu"}),color:"gold"},{name:"\u6709\u7a7a\u8c03",icon:r.a.createElement(a,{type:"icon-kongtiao"}),color:"geekblue"}],o=new Map;return n.forEach((function(e){return o.set(e.name,e)})),r.a.createElement("div",null,t.split(", ").map((function(e){var t=o.get(e);return r.a.createElement(U.a,{color:null,icon:t.icon,key:e},e)})))}var ie=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onReserve=function(t,a,n,r,o,l){var c=e.props,i=c.history,s=c.location,m=F.a.parse(s.search),u=m.checkInTime,d=m.checkOutTime,h=m.numOfCustomers;i.push("/reserve?checkInTime=".concat(u,"&checkOutTime=").concat(d,"&numOfCustomers=").concat(h,"&id=").concat(t,"&name=").concat(a,"&capacity=").concat(n,"&count=").concat(r,"&hotelId=").concat(o))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.id,n=t.price,o=t.capacity,l=t.count,c=t.name,i=t.intro,s=t.loading,m=t.hotelid;return r.a.createElement("div",null,r.a.createElement(te.b.Item,{actions:[r.a.createElement(x.a,{onClick:function(t){return e.onReserve(a,c,o,l,m,t)},type:"primary"},n,"\uffe5 \u9884\u5b9a")],extra:r.a.createElement("div",null,r.a.createElement(z.a,{title:"\u4eba\u6570\u9650\u5236",value:o,prefix:r.a.createElement(ae.a,null)}),r.a.createElement(z.a,{title:"\u5269\u4f59\u623f\u95f4",value:l,prefix:r.a.createElement(ne.a,null)}))},r.a.createElement(H.a,{active:!0,loading:s},r.a.createElement(te.b.Item.Meta,{title:c,description:r.a.createElement(ce,{intro:i})}))))}}]),a}(n.Component),se=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.style,a=e.rooms,n=e.loading,o=e.history,l=e.location;return r.a.createElement(te.b,{locale:{emptyText:"\u8fd9\u4e2a\u65f6\u95f4\u6bb5\u6ca1\u6709\u7a7a\u4f59\u623f\u95f4"},style:t,header:r.a.createElement("h3",{style:{textAlign:"center",fontWeight:"bold"}},"\u53ef\u9884\u8ba2\u623f\u95f4"),itemLayout:"vertical",size:"large",dataSource:a,renderItem:function(e){return r.a.createElement(ie,Object.assign({history:o,location:l,key:e.id,loading:n},e))}})}}]),a}(n.Component),me=a(156),ue=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={loading:!0,error:null,hotelAndRoom:{hotel:{},rooms:["","",""]}},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getDataFromServer()}},{key:"getDataFromServer",value:function(){var e=this,t="".concat("http://localhost:8080"),a=this.props.location,n=a.pathname,r=a.search;fetch(t+n+r).then((function(e){return e.json()})).then((function(t){e.setState({loading:!1,hotelAndRoom:t.data})}),(function(t){e.setState({loading:!1,error:t})}))}},{key:"getFakeData",value:function(){var e=this;setTimeout((function(){return e.setState({loading:!1,hotelAndRoom:me})}),500)}},{key:"render",value:function(){var e=this.state,t=e.hotelAndRoom,a=e.loading,n=e.error,o=this.props,l=o.history,c=o.location;if(n)return r.a.createElement("div",{className:"error-msg"},"Error: ".concat(n.message));if(!t)return r.a.createElement(Z.a,{status:"404",title:"404",subTitle:"\u627e\u4e0d\u5230\u8be5\u9152\u5e97"});var i=t.hotel,s=t.rooms,m=[i.photoone,i.phototwo,i.photothree,i.photofour,i.photofive],u={maxWidth:"700px",margin:"0 auto"},d=F.a.parse(this.props.location.search),h=d.checkInTime,p=d.checkOutTime,g=d.location,f=d.numOfCustomers,v={location:g,dates:[y()(h),y()(p)],numOfCustomers:f};return r.a.createElement("div",null,i?r.a.createElement("div",null,r.a.createElement(Q,{loading:a,style:u,imgUrls:m}),r.a.createElement($,Object.assign({loading:a,style:u},i)),r.a.createElement("div",{className:"hoverable",style:Object(E.a)(Object(E.a)({},u),{},{marginTop:"16px"})},r.a.createElement(C,Object.assign({hotelName:i.hoteltranslatedname,submitContent:"\u66f4\u65b0",initialValues:v,style:{width:"95%"}},this.props)),r.a.createElement(se,{history:l,location:c,loading:a,style:u,rooms:s}))):r.a.createElement(Z.a,{status:"404",title:"404",subTitle:"\u9152\u5e97\u4e0d\u5b58\u5728"}))}}]),a}(n.Component),de=a(587),he=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.checkInTime,a=e.checkOutTime,n=e.room,o=e.style,l=n.capacity,c=n.count,i=n.name;return r.a.createElement(M.a,{hoverable:!0,style:o,title:r.a.createElement(fe,{checkInTime:t,checkOutTime:a,roomName:i})},r.a.createElement(Ee,{capacity:l,count:c}))}}]),a}(n.Component);function pe(e){return e.replace("-","\u5e74").replace("-","\u6708")}function ge(e){var t=e.checkInTime,a=e.checkOutTime;return r.a.createElement("div",null,r.a.createElement("h3",null,r.a.createElement("div",{className:"check-in-time-box"},pe(t)),r.a.createElement("div",{className:"check-out-time-box"},pe(a))))}function fe(e){var t=e.checkInTime,a=e.checkOutTime,n=e.roomName;return r.a.createElement("div",null,r.a.createElement(ge,{checkInTime:t,checkOutTime:a}),r.a.createElement("h3",null,n))}function ve(e){var t=e.count;return t>=5?null:r.a.createElement(de.a,{message:r.a.createElement("span",null,"\u4e0d\u8981\u9519\u8fc7\uff01\u4ec5\u5269 ",r.a.createElement("strong",null,t)," \u95f4\u623f\u4e86\uff01"),type:"info",showIcon:!0})}function Ee(e){var t=e.capacity,a=e.count;return r.a.createElement("div",null,r.a.createElement("p",null,"\u6700\u591a\u53ef\u4f4f ",t," \u4eba"),r.a.createElement(ve,{count:a}))}var be=a(571);var ye={logout:function(){localStorage.removeItem("token")},getToken:function(){return localStorage.getItem("token")}};var ke={reserve:function(e){var t="".concat("http://localhost:8080","/reserves"),a=new FormData;for(var n in e)a.append(n,e[n]);return fetch(t,{method:"POST",headers:{mode:"no-cors",Authorization:"Bearer ".concat(ye.getToken())},body:a})}},Oe=a(191);function je(){return Oe}var Se=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onFinish=function(e){var t=n.props.location,a=F.a.parse(t.search),r=a.hotelId,o=a.id,l=a.checkInTime,c=a.checkOutTime,i={userName:e.userName,userPhone:e.userPhone,numOfCustomers:parseInt(e.numOfCustomers),pay:e.pay};e.userEmail&&(i.userEmail=e.userEmail);var s=Object(E.a)(Object(E.a)({},i),{},{hotelId:r,roomId:o,checkInTime:l,checkOutTime:c});n.setState({loading:!0,error:null}),ke.reserve(s).then((function(e){return e.json()})).then((function(e){1===e.code?n.setState({loading:!1}):n.setState({loading:!1,error:e.msg})})).catch((function(e){n.setState({loading:!1,error:"\u4e0e\u670d\u52a1\u5668\u901a\u4fe1\u51fa\u73b0\u9519\u8bef"})}))},n.state={loading:!1,error:null},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.style,a=e.className,n=e.numOfCustomers,o=e.capacity,l=this.state,c=l.loading,i=l.error;return r.a.createElement("div",{style:t,className:a},r.a.createElement("h2",null,"\u8ba2\u623f\u4fe1\u606f"),i&&r.a.createElement(de.a,{message:i,type:"error",showIcon:!0}),r.a.createElement(k.a,{size:"large",name:"reserve",layout:"vertical",onFinish:this.onFinish,scrollToFirstError:!0},r.a.createElement(k.a.Item,{name:"userName",label:"\u59d3\u540d",rules:[{required:!0,message:"\u8bf7\u586b\u5199\u60a8\u7684\u59d3\u540d\uff01"}]},r.a.createElement(O.a,null)),r.a.createElement(k.a.Item,{name:"userPhone",label:"\u8054\u7cfb\u7535\u8bdd",rules:[{required:!0,message:"\u8bf7\u586b\u5199\u60a8\u7684\u8054\u7cfb\u7535\u8bdd\uff01"}]},r.a.createElement(O.a,null)),r.a.createElement(k.a.Item,{name:"userEmail",label:"\u7535\u5b50\u90ae\u7bb1",rules:[{type:"email",message:"\u8fd9\u4e0d\u662f\u4e00\u4e2a\u6709\u6548\u7684\u7535\u5b50\u90ae\u7bb1\uff01"}]},r.a.createElement(O.a,null)),r.a.createElement(k.a.Item,{name:"numOfCustomers",label:"\u5165\u4f4f\u4eba\u6570",rules:[{required:!0,message:"\u8bf7\u586b\u5199\u5165\u4f4f\u4eba\u6570\uff01"}],initialValue:n},r.a.createElement(w.a,{max:o,min:1})),r.a.createElement(k.a.Item,{label:"\u652f\u4ed8\u65b9\u5f0f",name:"pay"},r.a.createElement(be.default.Group,null,je().map((function(e){return r.a.createElement(be.default,{key:e.key,value:e.key},e.value)})))),r.a.createElement(k.a.Item,null,r.a.createElement(x.a,{loading:c,style:{width:"100%"},type:"primary",htmlType:"submit"},"\u9884\u5b9a"))))}}]),a}(n.Component),Ie=a(572),we=(a(553),function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e={maxWidth:"700px",margin:"0 auto"},t=F.a.parse(this.props.location.search),a=t.checkInTime,n=t.checkOutTime,o=t.numOfCustomers,l=t.id,c=t.name,i={capacity:t.capacity,count:t.count,name:c,id:l},s={checkInTime:a,checkOutTime:n,room:i};return r.a.createElement("div",{style:{padding:"2em 0"}},r.a.createElement(Ie.a,{style:{width:"100%"},direction:"vertical"},r.a.createElement(he,Object.assign({style:e},s)),r.a.createElement(Se,Object.assign({style:e,className:"hoverable",numOfCustomers:o,capacity:i.capacity},this.props))))}}]),a}(n.Component)),xe=a(193);a(554);function Te(e){var t=e.history;return r.a.createElement("div",{className:"teahouse-full-screen-container"},r.a.createElement("div",{className:"login-signup-form"},r.a.createElement(xe.a,{defaultActiveKey:"1"},r.a.createElement(xe.a.TabPane,{tab:"\u666e\u901a\u7528\u6237",key:"1"},r.a.createElement(Ce,{role:"user",history:t})),r.a.createElement(xe.a.TabPane,{tab:"\u7ba1\u7406\u5458",key:"2"},r.a.createElement(Ce,{role:"admin",history:t})))))}var Ce=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onFinish=function(e){n.setState({loading:!0,error:""}),n.login2Server(e)},n.state={loading:!1,error:""},n}return Object(i.a)(a,[{key:"loginFake",value:function(){var e=this.props.role;setTimeout((function(){localStorage.setItem("token","admin"===e?"eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoiYWRtaW4iLCJ1c2VyUGhvbmUiOiLkuL3mvrPmu6jmsZ_nsr7lk4HphZLlupciLCJleHAiOjE1OTY4MzkyOTd9.9MoBiNz3DAmUOG9-j4Sx64h7sbfkpDRjD3LVMkW6W577IAnv4EXCp4xZ7fe-DcSEXrX3uNnCMRMUq1m1b9KHEQ":"eyJhbGciOiJIUzUxMiJ9.eyJyb2xlIjoidXNlciIsInVzZXJQaG9uZSI6IjEzMDMyODU1MTY3IiwiZXhwIjoxNTk2ODI4NjA1fQ.Z3vvuXeSAxSEufcDagKVVs3Akty2n9excZfRJ3QOMLpIVFT10lqhUQJtg-pcuNLnroHRIrMZIybqqJVOYNB01Q"),window.location="/"}),1e3)}},{key:"login2Server",value:function(e){var t=this;(function(e,t,a){var n="".concat("http://localhost:8080","/login"),r=new FormData;return r.append("phone",t),r.append("password",a),fetch(n,{method:"POST",headers:"admin"===e?{"X-Role":"admin"}:{"X-Role":"user"},body:r})})(this.props.role,e.phone,e.password).then((function(e){return e.json()})).then((function(e){if(1===e.code){var a=e.data.token;localStorage.setItem("token",a),window.location="/"}else 20002===e.code&&t.setState({loading:!1,error:e.msg})})).catch((function(e){console.log(e),t.setState({loading:!1,error:"\u4e0e\u670d\u52a1\u5668\u901a\u4fe1\u51fa\u73b0\u9519\u8bef"})}))}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.error,n=this.props.role;return r.a.createElement(k.a,{name:"normal_login",onFinish:this.onFinish,size:"large"},a&&r.a.createElement(de.a,{style:{marginBottom:16},message:a,type:"error",showIcon:!0}),r.a.createElement(k.a.Item,{name:"phone",rules:"admin"===n?[{required:!0,message:"\u8bf7\u8f93\u5165\u9152\u5e97\u540d\uff01"}]:[{required:!0,message:"\u8bf7\u8f93\u5165\u4f60\u7684\u624b\u673a\u53f7\uff01"},{len:11,message:"\u624b\u673a\u53f7\u9700\u4e3a 11 \u4f4d\uff01"}]},r.a.createElement(O.a,{placeholder:"admin"===n?"\u9152\u5e97\u540d":"\u624b\u673a\u53f7"})),r.a.createElement(k.a.Item,{name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4f60\u7684\u5bc6\u7801\uff01"}]},r.a.createElement(O.a,{type:"password",placeholder:"\u5bc6\u7801"})),r.a.createElement(k.a.Item,null,r.a.createElement(x.a,{type:"primary",htmlType:"submit",className:"login-signup-form-button",loading:t},"\u767b\u5f55"),r.a.createElement("div",{className:"after-btn-text"},"\u6216 ",r.a.createElement(p.b,{to:"signup"},"\u7acb\u5373\u6ce8\u518c"))))}}]),a}(n.Component),Ne=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"teahouse-full-screen-container"},r.a.createElement("div",{className:"login-signup-form"},r.a.createElement(xe.a,{defaultActiveKey:"1"},r.a.createElement(xe.a.TabPane,{tab:"\u666e\u901a\u7528\u6237",key:"1"},r.a.createElement(Ae,{role:"user"})),r.a.createElement(xe.a.TabPane,{tab:"\u7ba1\u7406\u5458",key:"2"},r.a.createElement(Ae,{role:"admin"})))))}}]),a}(n.Component),Ae=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onFinish=function(e){n.setState({loading:!0,error:""}),n.signup2Server(e)},n.state={loading:!1,error:""},n}return Object(i.a)(a,[{key:"signupFake",value:function(){var e=this;setTimeout((function(){e.setState({loading:!1,error:"\u8be5\u624b\u673a\u53f7\u7801\u5df2\u88ab\u6ce8\u518c\uff0c\u8bf7\u8f93\u5165\u5176\u4ed6\u624b\u673a\u53f7"})}),1e3)}},{key:"signup2Server",value:function(e){var t=this,a=this.props.role,n="".concat("http://localhost:8080","/register"),r=new FormData;r.append("phone",e.phone),r.append("password",e.password),fetch(n,{method:"POST",headers:"admin"===a?{"X-Role":"admin"}:{"X-Role":"user"},body:r}).then((function(e){return e.json()})).then((function(a){1===a.code?t.login2Server(e):t.setState({error:a.msg,loading:!1})})).catch((function(e){t.setState({error:"\u4e0e\u670d\u52a1\u5668\u901a\u4fe1\u51fa\u73b0\u9519\u8bef",loading:!1})}))}},{key:"login2Server",value:function(e){var t=this,a=this.props.role,n="".concat("http://localhost:8080","/login"),r=new FormData;r.append("phone",e.phone),r.append("password",e.password),fetch(n,{method:"POST",headers:"admin"===a?{"X-Role":"admin"}:{"X-Role":"user"},body:r}).then((function(e){return e.json()})).then((function(e){if(1===e.code){var a=e.data.token;localStorage.setItem("token",a),window.location="/"}else 20002===e.code&&t.setState({loading:!1,error:e.msg})})).catch((function(e){console.log(e),t.setState({loading:!1,error:"\u4e0e\u670d\u52a1\u5668\u901a\u4fe1\u51fa\u73b0\u9519\u8bef"})}))}},{key:"render",value:function(){var e=this.props.role,t=this.state,a=t.loading,n=t.error;return r.a.createElement(k.a,{name:"sign_up",className:"sign-up-form",onFinish:this.onFinish,size:"large"},n&&r.a.createElement(de.a,{style:{marginBottom:16},message:n,type:"error",showIcon:!0}),r.a.createElement(k.a.Item,{name:"phone",rules:"admin"===e?[{required:!0,message:"\u8bf7\u8f93\u5165\u9152\u5e97\u540d\uff01"}]:[{required:!0,message:"\u8bf7\u8f93\u5165\u4f60\u7684\u624b\u673a\u53f7\uff01"},{len:11,message:"\u624b\u673a\u53f7\u9700\u4e3a 11 \u4f4d\uff01"}]},r.a.createElement(O.a,{placeholder:"admin"===e?"\u9152\u5e97\u540d":"\u624b\u673a\u53f7"})),r.a.createElement(k.a.Item,{name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4f60\u7684\u5bc6\u7801\uff01"},{min:8,message:"\u5bc6\u7801\u81f3\u5c11\u4e3a 8 \u4f4d\uff01"},{pattern:/(?:\d+[a-z]|[a-z]+\d)[a-z\d]*/,message:"\u5bc6\u7801\u5fc5\u987b\u5305\u542b\u5b57\u6bcd\u548c\u6570\u5b57\uff01"}],hasFeedback:!0},r.a.createElement(O.a.Password,{placeholder:"\u5bc6\u7801"})),r.a.createElement(k.a.Item,{name:"confirm",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"\u8bf7\u786e\u8ba4\u4f60\u7684\u5bc6\u7801\uff01"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject("\u4e24\u6b21\u8f93\u5165\u7684\u5bc6\u7801\u4e0d\u5339\u914d\uff01"):Promise.resolve()}}}]},r.a.createElement(O.a.Password,{placeholder:"\u786e\u8ba4\u5bc6\u7801"})),r.a.createElement(k.a.Item,null,r.a.createElement(x.a,{loading:a,type:"primary",htmlType:"submit",className:"login-signup-form-button"},"\u6ce8\u518c"),r.a.createElement("div",{className:"after-btn-text"},"\u6216 ",r.a.createElement(p.b,{to:"/login"},"\u7acb\u5373\u767b\u5f55"))))}}]),a}(n.Component),Fe=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return ye.logout(),window.location="/",null}}]),a}(n.Component),Me=a(573),He=a(121),De=a(583),Re=a(574);function ze(e,t){var a="".concat("http://localhost:8080","/hotels/").concat(e),n=new FormData;for(var r in t)n.append(r,t[r]);return fetch(a,{method:"PUT",headers:{Authorization:"Bearer ".concat(ye.getToken())},body:n})}var Pe=a(264);var Je=a(265);a(555);var We=Me.a.Content,_e=Me.a.Sider,Ue=k.a.Item,Le=He.a.Option,Ve=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.hotelId;return r.a.createElement(Me.a,{className:"site-layout-background admin-layout"},r.a.createElement(_e,{className:"site-layout-background",width:200},r.a.createElement(De.a,{mode:"inline",defaultSelectedKeys:["hotel"]},r.a.createElement(De.a.Item,{key:"hotel"},"\u9152\u5e97"),r.a.createElement(De.a.Item,{key:"rooms"},"\u623f\u95f4"),r.a.createElement(De.a.Item,{key:"reservations"},"\u8ba2\u5355"))),r.a.createElement(We,{style:{padding:"0 24px",height:"calc(100vh - 10em)"}},r.a.createElement(qe,{hotelId:e})))}}]),a}(n.Component),qe=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).formRef=r.a.createRef(),e.state={updating:!1},e.handleFinish=function(t){e.setState({updating:!0});var a=t.checkin,n=t.checkout,r=t.yearopened,o=t.yearrenovated,l=Object(E.a)(Object(E.a)(Object(E.a)({},e.state.hotel),t),{},{checkin:a.format("h:mm:ss A"),checkout:n.format("h:mm:ss A"),yearopened:r.format("yyyy"),yearrenovated:o.format("yyyy")});delete l.brandname,delete l.chainname,ze().then((function(e){e.json()})).then((function(t){var a=t.data;e.setState({updating:!1}),e.formRef.current.setFieldsValue(e.hotel2FormValues(a))})).catch((function(t){console.log(t),e.setState({updating:!1})}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.hotelId;new Promise((function(e){return e(Je)})).then((function(t){e.setState({brands:t})})),new Promise((function(e){return e(Pe)})).then((function(t){e.setState({chains:t})})),new Promise((function(e,t){e(me.hotel)})).then((function(t){e.setState({hotel:t})}))}},{key:"hotel2FormValues",value:function(e){return Object(E.a)(Object(E.a)({},e),{},{checkin:y()(e.checkin,"h:mm:ss A"),checkout:y()(e.checkout,"h:mm:ss A"),yearopened:y()(e.yearopened,"yyyy"),yearrenovated:y()(e.yearrenovated,"yyyy")})}},{key:"render",value:function(){if(!this.state.hotel)return null;var e=this.state,t=e.hotel,a=e.chains,n=e.brands,o=e.updating;return r.a.createElement(k.a,{ref:this.formRef,initialValues:Object(E.a)(Object(E.a)({},t),{},{chainid:a.find((function(e){return e.chainname===t.chainname})).chainid,brandid:n.find((function(e){return e.brandname===t.brandname})).brandid,checkin:y()(t.checkin,"h:mm:ss A"),checkout:y()(t.checkout,"h:mm:ss A"),yearopened:y()(t.yearopened,"yyyy"),yearrenovated:y()(t.yearrenovated,"yyyy")}),onFinish:this.handleFinish,layout:"vertical"},r.a.createElement(Ue,{label:"id",name:"hotelid"},r.a.createElement(O.a,{disabled:!0})),r.a.createElement(Ue,{label:"\u8fde\u9501",name:"chainid"},r.a.createElement(He.a,null,a.map((function(e){return r.a.createElement(Le,{key:e.chainid,value:e.chainid},e.chainname)})))),r.a.createElement(Ue,{label:"\u54c1\u724c",name:"brandid"},r.a.createElement(He.a,null,n.map((function(e){return r.a.createElement(Le,{key:e.brandid,value:e.brandid},e.brandname||"No brand")})))),r.a.createElement(Ue,{label:"\u82f1\u6587\u540d",name:"hotelname"},r.a.createElement(O.a,null)),r.a.createElement(Ue,{label:"\u6b63\u5f0f\u540d",name:"hotelformerlyname"},r.a.createElement(O.a,null)),r.a.createElement(Ue,{label:"\u4e2d\u8bd1\u540d",name:"hoteltranslatedname"},r.a.createElement(O.a,null)),r.a.createElement(Ue,{label:"\u5730\u5740",name:"address"},r.a.createElement(O.a,null)),r.a.createElement(Ue,{label:"\u90ae\u7f16",name:"zipcode"},r.a.createElement(O.a,null)),r.a.createElement(Ue,{label:"\u661f\u7ea7",name:"starrating"},r.a.createElement(R.a,{allowHalf:!0})),r.a.createElement(Be,{input1:r.a.createElement(Ue,{label:"\u7ecf\u5ea6",name:"longitude"},r.a.createElement(w.a,{style:{minWidth:"90%"},min:-180,max:180,step:1e-6})),input2:r.a.createElement(Ue,{label:"\u7eac\u5ea6",name:"latitude"},r.a.createElement(w.a,{style:{minWidth:"90%"},min:-180,max:180,step:1e-6}))}),r.a.createElement(Be,{input1:r.a.createElement(Ue,{label:"\u5165\u4f4f\u65f6\u95f4",name:"checkin"},r.a.createElement(Re.a,{style:{minWidth:"90%"},use12Hours:!0,format:"h:mm:ss A"})),input2:r.a.createElement(Ue,{label:"\u9000\u623f\u65f6\u95f4",name:"checkout"},r.a.createElement(Re.a,{style:{minWidth:"90%"},use12Hours:!0,format:"h:mm:ss A"}))}),r.a.createElement(Ue,{label:"\u623f\u95f4\u6570",name:"numberrooms"},r.a.createElement(w.a,null)),r.a.createElement(Ue,{label:"\u697c\u5c42\u6570",name:"numberfloors"},r.a.createElement(w.a,null)),r.a.createElement(Be,{input1:r.a.createElement(Ue,{label:"\u5f00\u4e1a\u5e74\u4efd",name:"yearopened"},r.a.createElement(I.a,{style:{minWidth:"90%"},picker:"year"})),input2:r.a.createElement(Ue,{label:"\u7ffb\u65b0\u5e74\u4efd",name:"yearrenovated"},r.a.createElement(I.a,{style:{minWidth:"90%"},picker:"year"}))}),r.a.createElement(Ue,{label:"\u4ecb\u7ecd",name:"overview"},r.a.createElement(O.a.TextArea,{autoSize:!0})),r.a.createElement(Ue,{label:"\u6700\u4f4e\u4ef7",name:"minprice"},r.a.createElement(w.a,null)),r.a.createElement(Ue,null,r.a.createElement(x.a,{loading:o,type:"primary",htmlType:"submit"},"\u4fee\u6539")))}}]),a}(n.Component);function Be(e){var t=e.input1,a=e.input2;return r.a.createElement(j.a,null,r.a.createElement(S.a,{span:"12"},t),r.a.createElement(S.a,{span:"12"},a))}a(558);var Ge=a(267),Ye=a(575),Xe=a(576);function Ze(e){var t="".concat("http://localhost:8080","/users/1"),a=new FormData;for(var n in e)a.append(n,e[n]);return fetch(t,{method:"PUT",headers:{Authorization:"Bearer ".concat(ye.getToken())},body:a})}var Ke=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={loading:!0,uploading:!1,updating:!1},e.handleFinish=function(t){e.setState({updating:!0}),Ze(t).then((function(){e.setState({updating:!1})})).catch((function(t){Ge.a.error(t.message),e.setState({updating:!1})}))},e.handleUploadAvatarChange=function(t){if(e.setState({uploading:!0}),"error"===t.file.status&&(Ge.a.error("\u56fe\u7247 ".concat(t.file.name," \u4e0a\u4f20\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5")),e.setState({uploading:!1})),"done"===t.file.status){Ge.a.success("\u56fe\u7247 ".concat(t.file.name," \u4e0a\u4f20\u6210\u529f"));var a=e.state.user;e.setState({user:Object(E.a)(Object(E.a)({},a),{},{avatar:JSON.parse(t.file.response).data.user.avatar}),uploading:!1})}},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;(function(e){var t="".concat("http://localhost:8080","/users/").concat(e);return fetch(t,{headers:{Authorization:"Bearer ".concat(ye.getToken())}}).then((function(e){return e.json()}))})(1).then((function(t){e.setState({user:t.data,loading:!1})})).catch((function(t){Ge.a.error(t.message),e.setState({loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.user,a=e.loading,n=e.uploading,o=e.updating;return r.a.createElement(H.a,{loading:a},t?r.a.createElement(r.a.Fragment,null,r.a.createElement(Qe,{uploading:n,src:t.avatar,style:{marginBottom:"2em"},onUploadAvatarChange:this.handleUploadAvatarChange}),r.a.createElement($e,{user:t,onFinish:this.handleFinish,updating:o})):null)}}]),a}(n.Component),Qe=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.src,a=e.style,n=e.onUploadAvatarChange,o=e.uploading;return r.a.createElement("div",{style:a},r.a.createElement(Ie.a,null,r.a.createElement(Ye.a,{src:t,size:128,icon:r.a.createElement(ae.a,null)}),r.a.createElement(Xe.a,Object.assign({},{name:"avatar",action:"".concat("http://localhost:8080","/users/1"),method:"PUT",headers:{Authorization:"Bearer ".concat(ye.getToken())},accept:"image/*",showUploadList:!1},{onChange:n}),r.a.createElement(x.a,{loading:o},"\u4e0a\u4f20\u5934\u50cf"))))}}]),a}(n.Component),$e=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.onFinish,n=e.updating,o=k.a.Item;return r.a.createElement(M.a,null,r.a.createElement(k.a,{initialValues:t,layout:"vertical",onFinish:a},r.a.createElement(o,{label:"\u7535\u5b50\u90ae\u7bb1",name:"email"},r.a.createElement(O.a,{style:{width:"50%"},type:"email"})),r.a.createElement(o,{label:"\u662f\u5426\u5438\u70df",name:"smoke"},r.a.createElement(be.default.Group,null,r.a.createElement(be.default,{key:!0,value:!0},"\u662f"),r.a.createElement(be.default,{key:!1,value:!1},"\u5426"))),r.a.createElement(o,{label:"\u652f\u4ed8\u65b9\u5f0f\u504f\u597d",name:"paypref"},r.a.createElement(be.default.Group,null,je().map((function(e){return r.a.createElement(be.default,{key:e.key,value:e.key},e.value)})))),r.a.createElement(o,null,r.a.createElement(x.a,{loading:n,type:"primary",htmlType:"submit"},"\u4fee\u6539"))))}}]),a}(n.Component),et=a(585);function tt(e){var t=e.reservations,a=e.loading;return r.a.createElement(H.a,{active:!0,loading:a},r.a.createElement(te.b,{bordered:!0,dataSource:t,renderItem:function(e){return r.a.createElement(at,{reservation:e})}}))}function at(e){var t=e.reservation,a=t.createat,n=t.username,o=t.userphone,l=t.useremail,c=t.checkinat,i=t.checkoutat,s=t.pay,m=t.price,u=t.hotel,d=t.room,h=u.hoteltranslatedname,p=d.name;return r.a.createElement(te.b.Item,null,r.a.createElement(te.b.Item.Meta,{title:r.a.createElement(nt,{hotelTranslatedName:h,roomName:p,checkInAt:c,checkOutAt:i}),description:r.a.createElement(rt,{username:n,userphone:o,useremail:l,price:m,pay:s})}),r.a.createElement(ot,{createAt:new Date(a).toLocaleDateString()}))}function nt(e){var t=e.hotelTranslatedName,a=e.roomName,n=e.checkInAt,o=e.checkOutAt;return r.a.createElement("div",null,r.a.createElement("h2",null,t," \xb7 ",a),r.a.createElement("p",null,r.a.createElement("h4",null,"\u5165\u4f4f\u65f6\u95f4\uff1a",new Date(n).toLocaleDateString(),r.a.createElement("span",{style:{marginLeft:"2em"}},"\u9000\u623f\u65f6\u95f4\uff1a",new Date(o).toLocaleDateString()))))}function rt(e){var t,a=e.username,n=e.userphone,o=e.useremail,l=e.price,c=e.pay,i=function(e){return e||"\u65e0"},s=et.a.Item;return r.a.createElement(et.a,null,r.a.createElement(s,{label:"\u5ba2\u4eba\u59d3\u540d"},i(a)),r.a.createElement(s,{label:"\u5ba2\u4eba\u624b\u673a"},i(n)),r.a.createElement(s,{label:"\u5ba2\u4eba\u90ae\u7bb1"},i(o)),r.a.createElement(s,{label:"\u4ef7\u683c"},i(l)),r.a.createElement(s,{label:"\u652f\u4ed8\u65b9\u5f0f"},(t=i(c),Oe.find((function(e){return e.key===t})).value)))}function ot(e){var t=e.createAt;return r.a.createElement("p",null,"\u521b\u5efa\u65f6\u95f4\uff1a",t)}var lt=Me.a.Content,ct=Me.a.Sider,it=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={current:"reservations",loading:!0},e.handleSelect=function(t){e.setState({current:t.key})},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;(function(){var e="".concat("http://localhost:8080","/reserves");return fetch(e,{method:"GET",headers:{Authorization:"Bearer ".concat(ye.getToken())}}).then((function(e){return e.json()}))})().then((function(t){var a=t.data;e.setState({reservations:a,loading:!1})})).catch((function(t){Ge.a.error(t.message),e.setState({loading:!1})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.reservations,n=t.current,o=t.loading;return r.a.createElement(Me.a,{className:"site-layout-background admin-layout"},r.a.createElement(ct,{className:"site-layout-background",width:200},r.a.createElement(De.a,{mode:"inline",defaultSelectedKeys:["reservations"],onSelect:function(t){return e.handleSelect(t)}},r.a.createElement(De.a.Item,{key:"reservations"},"\u8ba2\u5355"),r.a.createElement(De.a.Item,{key:"profile"},"\u4e2a\u4eba"))),r.a.createElement(lt,{style:{padding:"0 24px",height:"calc(100vh - 10em)"}},"reservations"===n?r.a.createElement(tt,{loading:o,reservations:a}):r.a.createElement(Ke,null)))}}]),a}(n.Component),st=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.user;return e?"admin"===e.role?r.a.createElement(Ve,{hotelId:e.hotelId}):r.a.createElement(it,null):null}}]),a}(n.Component);var mt=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;try{var t=ye.getToken(),a=h()(t),n=a.role,r=a.userPhone;"admin"===n&&(console.log("role is admin"),function(){var e="".concat("http://localhost:8080","/admins");return fetch(e,{method:"GET",headers:{Authorization:"Bearer ".concat(ye.getToken())}}).then((function(e){return e.json()}))}().then((function(t){var a=t.data.hotelid;e.setState({user:{role:n,name:r,hotelId:a}})})).catch((function(e){console.log("get admin error:",e)}))),"user"===n&&this.setState({user:{role:n,name:r}})}catch(o){}}},{key:"render",value:function(){var e=this.state.user;return r.a.createElement("div",null,r.a.createElement(g,{user:e}),r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/account",render:function(t){return r.a.createElement(st,Object.assign({},t,{user:e}))}}),r.a.createElement(u.a,{path:"/signup",component:Ne}),r.a.createElement(u.a,{path:"/login",component:Te}),r.a.createElement(u.a,{path:"/logout",component:Fe}),r.a.createElement(u.a,{path:"/reserve",component:we}),r.a.createElement(u.a,{path:"/hotels/:id",component:ue}),r.a.createElement(u.a,{path:"/hotels",component:X}),r.a.createElement(u.a,{path:"/",component:N})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ut=a(6),dt=a(275),ht=a(596);V.a.setDefaultIndicator(r.a.createElement(ht.a,{style:{fontSize:"4em"},spin:!0})),l.a.render(r.a.createElement(ut.a,{locale:dt.a},r.a.createElement(p.a,null,r.a.createElement(mt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[279,1,2]]]);
//# sourceMappingURL=main.bd0bf8b1.chunk.js.map